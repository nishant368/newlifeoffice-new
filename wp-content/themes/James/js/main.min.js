(function(f){var e=new Array;var c=new Array;var m=new Array;var o=new Array;var d=new Array;var h=new Array;var b=new Array;var g=new Array;var n=new Array;var a=new Array;var l=new Array;f.fn.coinslider=f.fn.CoinSlider=function(q){init=function(r){c[r.id]=new Array();m[r.id]=new Array();o[r.id]=new Array();d[r.id]=new Array();h[r.id]=new Array();g[r.id]=0;a[r.id]=0;l[r.id]=1;e[r.id]=f.extend({},f.fn.coinslider.defaults,q);f.each(f("#"+r.id+" img"),function(s,t){m[r.id][s]=f(t).attr("src");o[r.id][s]=f(t).parent().is("a")?f(t).parent().attr("href"):"";d[r.id][s]=f(t).parent().is("a")?f(t).parent().attr("target"):"";h[r.id][s]=f(t).next().is("span")?f(t).next().html():"";f(t).hide();f(t).next().hide()});f(r).css({"background-image":"url("+m[r.id][0]+")",width:e[r.id].width,height:e[r.id].height,position:"relative","background-position":"top left"}).wrap("<div class='coin-slider' id='coin-slider-"+r.id+"' />");f("#"+r.id).append("<div class='cs-title' id='cs-title-"+r.id+"' style='position: absolute; bottom:0; left: 0; z-index: 1000;'></div>");f.setFields(r);if(e[r.id].navigation){f.setNavigation(r)}f.transition(r,0);f.transitionCall(r)};f.setFields=function(r){tWidth=sWidth=parseInt(e[r.id].width/e[r.id].spw);tHeight=sHeight=parseInt(e[r.id].height/e[r.id].sph);counter=sLeft=sTop=0;tgapx=gapx=e[r.id].width-e[r.id].spw*sWidth;tgapy=gapy=e[r.id].height-e[r.id].sph*sHeight;for(i=1;i<=e[r.id].sph;i++){f(".wp-post-image").css({"margin-top":"-21px"});gapx=tgapx;if(gapy>0){gapy--;sHeight=tHeight+1}else{sHeight=tHeight}for(j=1;j<=e[r.id].spw;j++){if(gapx>0){gapx--;sWidth=tWidth+1}else{sWidth=tWidth}c[r.id][counter]=i+""+j;counter++;if(e[r.id].links){f("#"+r.id).append("<a href='"+o[r.id][0]+"' class='cs-"+r.id+"' id='cs-"+r.id+i+j+"' style='width:"+sWidth+"px; height:"+sHeight+"px; float: left; position: absolute;'></a>")}else{f("#"+r.id).append("<div class='cs-"+r.id+"' id='cs-"+r.id+i+j+"' style='width:"+sWidth+"px; height:"+sHeight+"px; float: left; position: absolute;'></div>")}f("#cs-"+r.id+i+j).css({"background-position":-sLeft+"px "+(-sTop+"px"),left:sLeft,top:sTop});sLeft+=sWidth}sTop+=sHeight;sLeft=0}f(".cs-"+r.id).mouseover(function(){f("#cs-navigation-"+r.id).show()});f(".cs-"+r.id).mouseout(function(){f("#cs-navigation-"+r.id).hide()});f("#cs-title-"+r.id).mouseover(function(){f("#cs-navigation-"+r.id).show()});f("#cs-title-"+r.id).mouseout(function(){f("#cs-navigation-"+r.id).hide()});if(e[r.id].hoverPause){f(".cs-"+r.id).mouseover(function(){e[r.id].pause=true});f(".cs-"+r.id).mouseout(function(){e[r.id].pause=false});f("#cs-title-"+r.id).mouseover(function(){e[r.id].pause=true});f("#cs-title-"+r.id).mouseout(function(){e[r.id].pause=false})}};f.transitionCall=function(r){clearInterval(b[r.id]);delay=e[r.id].delay+e[r.id].spw*e[r.id].sph*e[r.id].sDelay;b[r.id]=setInterval(function(){f.transition(r)},delay)};f.transition=function(r,s){if(e[r.id].pause==true){return}f.effect(r);a[r.id]=0;n[r.id]=setInterval(function(){f.appereance(r,c[r.id][a[r.id]])},e[r.id].sDelay);f(r).css({"background-image":"url("+m[r.id][g[r.id]]+")"});if(typeof(s)=="undefined"){g[r.id]++}else{if(s=="prev"){g[r.id]--}else{g[r.id]=s}}if(g[r.id]==m[r.id].length){g[r.id]=0}if(g[r.id]==-1){g[r.id]=m[r.id].length-1}f(".cs-button-"+r.id).removeClass("cs-active");f("#cs-button-"+r.id+"-"+(g[r.id]+1)).addClass("cs-active");if(h[r.id][g[r.id]]){f("#cs-title-"+r.id).css({opacity:0}).animate({opacity:e[r.id].opacity},e[r.id].titleSpeed);f("#cs-title-"+r.id).html(h[r.id][g[r.id]])}else{f("#cs-title-"+r.id).css("opacity",0)}};f.appereance=function(s,r){f(".cs-"+s.id).attr("href",o[s.id][g[s.id]]).attr("target",d[s.id][g[s.id]]);if(a[s.id]==e[s.id].spw*e[s.id].sph){clearInterval(n[s.id]);return}f("#cs-"+s.id+r).css({opacity:0,"background-image":"url("+m[s.id][g[s.id]]+")"});f("#cs-"+s.id+r).animate({opacity:1},300);a[s.id]++};f.setNavigation=function(r){f(r).append("<div id='cs-navigation-"+r.id+"'></div>");f("#cs-navigation-"+r.id).hide();f("#cs-prev-"+r.id).css({position:"absolute",top:e[r.id].height/2-15,left:0,"z-index":1001,"line-height":"30px",opacity:e[r.id].opacity}).click(function(s){s.preventDefault();f.transition(r,"prev");f.transitionCall(r)}).mouseover(function(){f("#cs-navigation-"+r.id).show()});f("#cs-next-"+r.id).css({position:"absolute",top:e[r.id].height/2-15,right:0,"z-index":1001,"line-height":"30px",opacity:e[r.id].opacity}).click(function(s){s.preventDefault();f.transition(r);f.transitionCall(r)}).mouseover(function(){f("#cs-navigation-"+r.id).show()});f("<div id='cs-buttons-"+r.id+"' class='cs-buttons'></div>").appendTo(f("#coin-slider-"+r.id+""));for(k=1;k<m[r.id].length+1;k++){f("#cs-buttons-"+r.id).append("<a href='#' class='cs-button-"+r.id+"' id='cs-button-"+r.id+"-"+k+"'>"+k+"</a>")}f.each(f(".cs-button-"+r.id),function(s,t){f(t).click(function(u){f(".cs-button-"+r.id).removeClass("cs-active");f(this).addClass("cs-active");u.preventDefault();f.transition(r,s);f.transitionCall(r)})});f("#cs-navigation-"+r.id+" a").mouseout(function(){f("#cs-navigation-"+r.id).hide();e[r.id].pause=false});f("#cs-buttons-"+r.id).css({left:"50%","margin-left":-m[r.id].length*15/2-5,position:"absolute"})};f.effect=function(r){effA=["random","swirl","rain","straight"];if(e[r.id].effect==""){eff=effA[Math.floor(Math.random()*(effA.length))]}else{eff=e[r.id].effect}c[r.id]=new Array();if(eff=="random"){counter=0;for(i=1;i<=e[r.id].sph;i++){for(j=1;j<=e[r.id].spw;j++){c[r.id][counter]=i+""+j;counter++}}f.random(c[r.id])}if(eff=="rain"){f.rain(r)}if(eff=="swirl"){f.swirl(r)}if(eff=="straight"){f.straight(r)}l[r.id]*=-1;if(l[r.id]>0){c[r.id].reverse()}};f.random=function(r){var t=r.length;if(t==0){return false}while(--t){var s=Math.floor(Math.random()*(t+1));var v=r[t];var u=r[s];r[t]=u;r[s]=v}};f.swirl=function(r){var t=e[r.id].sph;var u=e[r.id].spw;var B=1;var A=1;var s=0;var v=0;var z=0;var w=true;while(w){v=(s==0||s==2)?u:t;for(i=1;i<=v;i++){c[r.id][z]=B+""+A;z++;if(i!=v){switch(s){case 0:A++;break;case 1:B++;break;case 2:A--;break;case 3:B--;break}}}s=(s+1)%4;switch(s){case 0:u--;A++;break;case 1:t--;B++;break;case 2:u--;A--;break;case 3:t--;B--;break}check=f.max(t,u)-f.min(t,u);if(u<=check&&t<=check){w=false}}};f.rain=function(t){var w=e[t.id].sph;var r=e[t.id].spw;var v=0;var u=to2=from=1;var s=true;while(s){for(i=from;i<=u;i++){c[t.id][v]=i+""+parseInt(to2-i+1);v++}to2++;if(u<w&&to2<r&&w<r){u++}if(u<w&&w>=r){u++}if(to2>r){from++}if(from>u){s=false}}};f.straight=function(r){counter=0;for(i=1;i<=e[r.id].sph;i++){for(j=1;j<=e[r.id].spw;j++){c[r.id][counter]=i+""+j;counter++}}};f.min=function(s,r){if(s>r){return r}else{return s}};f.max=function(s,r){if(s<r){return r}else{return s}};this.each(function(){init(this)})};f.fn.coinslider.defaults={width:620,height:290,spw:7,sph:5,delay:3000,sDelay:30,opacity:0.7,titleSpeed:500,effect:"",navigation:true,links:true,hoverPause:true}})(jQuery);(function(b){if(!document.defaultView||!document.defaultView.getComputedStyle){var d=b.curCSS;b.curCSS=function(g,e,h){if(e==="background-position"){e="backgroundPosition"}if(e!=="backgroundPosition"||!g.currentStyle||g.currentStyle[e]){return d.apply(this,arguments)}var f=g.style;if(!h&&f&&f[e]){return f[e]}return d(g,"backgroundPositionX",h)+" "+d(g,"backgroundPositionY",h)}}var c=b.fn.animate;b.fn.animate=function(e){if("background-position" in e){e.backgroundPosition=e["background-position"];delete e["background-position"]}if("backgroundPosition" in e){e.backgroundPosition="("+e.backgroundPosition}return c.apply(this,arguments)};function a(f){f=f.replace(/left|top/g,"0px");f=f.replace(/right|bottom/g,"100%");f=f.replace(/([0-9\.]+)(\s|\)|$)/g,"$1px$2");var e=f.match(/(-?[0-9\.]+)(px|\%|em|pt)\s(-?[0-9\.]+)(px|\%|em|pt)/);return[parseFloat(e[1],10),e[2],parseFloat(e[3],10),e[4]]}b.fx.step.backgroundPosition=function(f){if(!f.bgPosReady){var h=b.curCSS(f.elem,"backgroundPosition");if(!h){h="0px 0px"}h=a(h);f.start=[h[0],h[2]];var e=a(f.end);f.end=[e[0],e[2]];f.unit=[e[1],e[3]];f.bgPosReady=true}var g=[];g[0]=((f.end[0]-f.start[0])*f.pos)+f.start[0]+f.unit[0];g[1]=((f.end[1]-f.start[1])*f.pos)+f.start[1]+f.unit[1];f.elem.style.backgroundPosition=g[0]+" "+g[1]}})(jQuery);(function(b){b(document).ready(function(){imgP=$(".hiddenLink").html();b("body").prepend("").prepend("")});b.supersized=function(a){var D={slideshow:1,autoplay:1,start_slide:1,slide_interval:5000,transition:1,transition_speed:750,new_window:1,pause_hover:0,keyboard_nav:1,performance:1,image_protect:1,image_path:imgP,min_width:0,min_height:0,vertical_center:1,horizontal_center:1,fit_portrait:0,fit_landscape:0,navigation:1,thumbnail_navigation:0,slide_counter:1,slide_captions:1};var z=b("#supersized");var C="#pauseplay";if(a){var a=b.extend(D,a)}else{var a=b.extend(D)}var E=false;var u=false;var v=a.image_path;if(a.start_slide){var w=a.start_slide-1}else{var w=Math.floor(Math.random()*a.slides.length)}var q=a.new_window?' target="_blank"':"";if(a.performance==3){z.addClass("speed")}else{if((a.performance==1)||(a.performance==2)){z.addClass("quality")}}if(a.slides.length>1){w-1<0?loadPrev=a.slides.length-1:loadPrev=w-1;var B=(a.slides[loadPrev].url)?"href='"+a.slides[loadPrev].url+"'":"";b("<img/>").attr("src",a.slides[loadPrev].image).appendTo(z).wrap("<a "+B+q+"></a>")}B=(a.slides[w].url)?"href='"+a.slides[w].url+"'":"";b("<img/>").attr("src",a.slides[w].image).appendTo(z).wrap('<a class="activeslide" '+B+q+"></a>");if(a.slides.length>1){w==a.slides.length-1?loadNext=0:loadNext=w+1;B=(a.slides[loadNext].url)?"href='"+a.slides[loadNext].url+"'":"";b("<img/>").attr("src",a.slides[loadNext].image).appendTo(z).wrap("<a "+B+q+"></a>")}z.hide();b("#controls-wrapper").hide();b(window).load(function(){b("#supersized-loader").hide();z.fadeIn("fast");b("#controls-wrapper").show();if(a.thumbnail_navigation){w-1<0?prevThumb=a.slides.length-1:prevThumb=w-1;b("#prevthumb").show().html(b("<img/>").attr("src",a.slides[prevThumb].image));w==a.slides.length-1?nextThumb=0:nextThumb=w+1;b("#nextthumb").show().html(b("<img/>").attr("src",a.slides[nextThumb].image))}r();if(a.slide_captions){b("#slidecaption").html(a.slides[w].title)}if(!(a.navigation)){b("#navigation").hide()}if(a.slideshow&&a.slides.length>1){if(a.slide_counter){b("#slidecounter .slidenumber").html(w+1);b("#slidecounter .totalslides").html(a.slides.length)}slideshow_interval=setInterval(t,a.slide_interval);if(!(a.autoplay)){clearInterval(slideshow_interval);u=true;if(b(C).attr("src")){b(C).attr("src",v+"play_dull.png")}}if(a.thumbnail_navigation){b("#nextthumb").click(function(){if(E){return false}clearInterval(slideshow_interval);t(z,a);if(!(u)){slideshow_interval=setInterval(t,a.slide_interval)}return false});b("#prevthumb").click(function(){if(E){return false}clearInterval(slideshow_interval);A(z,a);if(!(u)){slideshow_interval=setInterval(t,a.slide_interval)}return false})}if(a.navigation){b("#navigation a").click(function(){b(this).blur();return false});b("#nextslide").click(function(){if(E){return false}clearInterval(slideshow_interval);t();if(!(u)){slideshow_interval=setInterval(t,a.slide_interval)}return false});if(b("#nextslide").attr("src")){b("#nextslide").mousedown(function(){b(this).attr("src",v+"forward.png")});b("#nextslide").mouseup(function(){b(this).attr("src",v+"forward_dull.png")});b("#nextslide").mouseout(function(){b(this).attr("src",v+"forward_dull.png")})}b("#prevslide").click(function(){if(E){return false}clearInterval(slideshow_interval);A();if(!(u)){slideshow_interval=setInterval(t,a.slide_interval)}return false});if(b("#prevslide").attr("src")){b("#prevslide").mousedown(function(){b(this).attr("src",v+"back.png")});b("#prevslide").mouseup(function(){b(this).attr("src",v+"back_dull.png")});b("#prevslide").mouseout(function(){b(this).attr("src",v+"back_dull.png")})}b(C).click(function(){if(E){return false}if(u){if(b(C).attr("src")){b(C).attr("src",v+"pause_dull.png")}u=false;slideshow_interval=setInterval(t,a.slide_interval)}else{if(b(C).attr("src")){b(C).attr("src",v+"play_dull.png")}clearInterval(slideshow_interval);u=true}return false})}}});if(a.keyboard_nav){b(document.documentElement).keydown(function(c){if((c.keyCode==37)||(c.keyCode==40)){if(b("#prevslide").attr("src")){b("#prevslide").attr("src",v+"back.png")}}else{if((c.keyCode==39)||(c.keyCode==38)){if(b("#nextslide").attr("src")){b("#nextslide").attr("src",v+"forward.png")}}}});b(document.documentElement).keyup(function(c){clearInterval(slideshow_interval);if((c.keyCode==37)||(c.keyCode==40)){if(b("#prevslide").attr("src")){b("#prevslide").attr("src",v+"back_dull.png")}if(E){return false}clearInterval(slideshow_interval);A();if(!(u)){slideshow_interval=setInterval(t,a.slide_interval)}return false}else{if((c.keyCode==39)||(c.keyCode==38)){if(b("#nextslide").attr("src")){b("#nextslide").attr("src",v+"forward_dull.png")}if(E){return false}clearInterval(slideshow_interval);t();if(!(u)){slideshow_interval=setInterval(t,a.slide_interval)}return false}else{if(c.keyCode==32){if(E){return false}if(u){if(b(C).attr("src")){b(C).attr("src",v+"pause_dull.png")}u=false;slideshow_interval=setInterval(t,a.slide_interval)}else{if(b(C).attr("src")){b(C).attr("src",v+"play_dull.png")}u=true}return false}}}})}if(a.slideshow&&a.pause_hover){b(z).hover(function(){if(E){return false}if(!(u)&&a.navigation){if(b(C).attr("src")){b(C).attr("src",v+"pause.png")}clearInterval(slideshow_interval)}},function(){if(!(u)&&a.navigation){if(b(C).attr("src")){b(C).attr("src",v+"pause_dull.png")}slideshow_interval=setInterval(t,a.slide_interval)}})}b(window).resize(function(){r()});function r(){return z.each(function(){var c=b("img",z);b(c).each(function(){var f=(b(this).height()/b(this).width()).toFixed(2);var g=b(window).width();var e=b(window).height();var d;if((e>a.min_height)||(g>a.min_width)){if((e/g)>f){if(a.fit_landscape&&f<=1){b(this).width(g);b(this).height(g*f)}else{b(this).height(e);b(this).width(e/f)}}else{if(a.fit_portrait&&f>1){b(this).height(e);b(this).width(e/f)}else{b(this).width(g);b(this).height(g*f)}}}if(a.horizontal_center){b(this).css("left",(g-b(this).width())/2)}if(a.vertical_center){b(this).css("top",(e-b(this).height())/2)}});if(a.image_protect){b("img",z).bind("contextmenu",function(){return false});b("img",z).bind("mousedown",function(){return false})}return false})}function t(){if(E){return false}else{E=true}var d=a.slides;var e=z.find(".activeslide");e.removeClass("activeslide");if(e.length==0){e=z.find("a:last")}var f=e.next().length?e.next():z.find("a:first");var c=f.prev().length?f.prev():z.find("a:last");b(".prevslide").removeClass("prevslide");c.addClass("prevslide");w+1==d.length?w=0:w++;if(a.performance==1){z.removeClass("quality").addClass("speed")}loadSlide=false;w==d.length-1?loadSlide=0:loadSlide=w+1;B=(a.slides[loadSlide].url)?"href='"+a.slides[loadSlide].url+"'":"";b("<img/>").attr("src",a.slides[loadSlide].image).appendTo(z).wrap("<a "+B+q+"></a>");if(a.thumbnail_navigation==1){w-1<0?prevThumb=d.length-1:prevThumb=w-1;b("#prevthumb").html(b("<img/>").attr("src",a.slides[prevThumb].image));nextThumb=loadSlide;b("#nextthumb").html(b("<img/>").attr("src",a.slides[nextThumb].image))}e.prev().remove();if(a.slide_counter){b("#slidecounter .slidenumber").html(w+1)}if(a.slide_captions){(a.slides[w].title)?b("#slidecaption").html(a.slides[w].title):b("#slidecaption").html("")}f.hide().addClass("activeslide");switch(a.transition){case 0:f.show();E=false;break;case 1:f.fadeTo(a.transition_speed,1,function(){s()});break;case 2:f.animate({top:-b(window).height()},0).show().animate({top:0},a.transition_speed,function(){s()});break;case 3:f.animate({left:b(window).width()},0).show().animate({left:0},a.transition_speed,function(){s()});break;case 4:f.animate({top:b(window).height()},0).show().animate({top:0},a.transition_speed,function(){s()});break;case 5:f.animate({left:-b(window).width()},0).show().animate({left:0},a.transition_speed,function(){s()});break;case 6:f.animate({left:b(window).width()},0).show().animate({left:0},a.transition_speed,function(){s()});e.animate({left:-b(window).width()},a.transition_speed);break;case 7:f.animate({left:-b(window).width()},0).show().animate({left:0},a.transition_speed,function(){s()});e.animate({left:b(window).width()},a.transition_speed);break}}function A(){if(E){return false}else{E=true}var d=a.slides;var e=z.find(".activeslide");e.removeClass("activeslide");if(e.length==0){e=b(z).find("a:first")}var f=e.prev().length?e.prev():b(z).find("a:last");var c=f.next().length?f.next():b(z).find("a:first");b(".prevslide").removeClass("prevslide");c.addClass("prevslide");w==0?w=d.length-1:w--;if(a.performance==1){z.removeClass("quality").addClass("speed")}loadSlide=false;w-1<0?loadSlide=d.length-1:loadSlide=w-1;B=(a.slides[loadSlide].url)?"href='"+a.slides[loadSlide].url+"'":"";b("<img/>").attr("src",a.slides[loadSlide].image).prependTo(z).wrap("<a "+B+q+"></a>");if(a.thumbnail_navigation==1){prevThumb=loadSlide;b("#prevthumb").html(b("<img/>").attr("src",a.slides[prevThumb].image));w==d.length-1?nextThumb=0:nextThumb=w+1;b("#nextthumb").html(b("<img/>").attr("src",a.slides[nextThumb].image))}e.next().remove();if(a.slide_counter){b("#slidecounter .slidenumber").html(w+1)}if(a.slide_captions){(a.slides[w].title)?b("#slidecaption").html(a.slides[w].title):b("#slidecaption").html("")}f.hide().addClass("activeslide");switch(a.transition){case 0:f.show();E=false;break;case 1:f.fadeTo(a.transition_speed,1,function(){s()});break;case 2:f.animate({top:b(window).height()},0).show().animate({top:0},a.transition_speed,function(){s()});break;case 3:f.animate({left:-b(window).width()},0).show().animate({left:0},a.transition_speed,function(){s()});break;case 4:f.animate({top:-b(window).height()},0).show().animate({top:0},a.transition_speed,function(){s()});break;case 5:f.animate({left:b(window).width()},0).show().animate({left:0},a.transition_speed,function(){s()});break;case 6:f.animate({left:-b(window).width()},0).show().animate({left:0},a.transition_speed,function(){s()});e.animate({left:b(window).width()},a.transition_speed);break;case 7:f.animate({left:b(window).width()},0).show().animate({left:0},a.transition_speed,function(){s()});e.animate({left:-b(window).width()},a.transition_speed);break}}function s(){E=false;if(a.performance==1){z.removeClass("speed").addClass("quality")}r()}}})(jQuery);(function(n,h,d){var f=(function(){var v=["Moz","Webkit","Khtml","O","Ms"];function u(D,B){B=B||document.documentElement;var C=B.style,w;if(typeof C[D]==="string"){return D}D=D.charAt(0).toUpperCase()+D.slice(1);for(var A=0,z=v.length;A<z;A++){w=v[A]+D;if(typeof C[w]==="string"){return w}}}return u})();var s=f("transform");
/*!
   * Modernizr v1.6ish: miniModernizr for Isotope
   * http://www.modernizr.com
   *
   * Developed by: 
   * - Faruk Ates  http://farukat.es/
   * - Paul Irish  http://paulirish.com/
   *
   * Copyright (c) 2009-2010
   * Dual-licensed under the BSD or MIT licenses.
   * http://www.modernizr.com/license/
   */
var e=document.documentElement,c=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),b=[{name:"csstransforms",getResult:function(){return !!s}},{name:"csstransforms3d",getResult:function(){var z=!!f("perspective");if(z){var u=document.createElement("style"),w=document.createElement("div"),v="@media ("+c.join("transform-3d),(")+"modernizr)";u.textContent=v+"{#modernizr{height:3px}}";(document.head||document.getElementsByTagName("head")[0]).appendChild(u);w.id="modernizr";e.appendChild(w);z=w.offsetHeight===3;u.parentNode.removeChild(u);w.parentNode.removeChild(w)}return !!z}},{name:"csstransitions",getResult:function(){return !!f("transitionProperty")}}],g,m=b.length;if(n.Modernizr){for(g=0;g<m;g++){var o=b[g];if(!Modernizr.hasOwnProperty(o.name)){Modernizr.addTest(o.name,o.getResult)}}}else{n.Modernizr=(function(){var z={_version:"1.6ish: miniModernizr for Isotope"},v=[],A,u,w;for(g=0;g<m;g++){A=b[g];u=A.getResult();z[A.name]=u;w=(u?"":"no-")+A.name;v.push(w)}e.className+=" "+v.join(" ");return z})()}if(Modernizr.csstransforms){var l=Modernizr.csstransforms3d?{translate:function(u){return"translate3d("+u[0]+"px, "+u[1]+"px, 0) "},scale:function(u){return"scale3d("+u+", "+u+", 1) "}}:{translate:function(u){return"translate("+u[0]+"px, "+u[1]+"px) "},scale:function(u){return"scale("+u+") "}};var r=function(z,v,E){var C=h.data(z,"isoTransform")||{},G={},w,A={},D;G[v]=E;h.extend(C,G);for(w in C){D=C[w];A[w]=l[w](D)}var B=A.translate||"",F=A.scale||"",u=B+F;h.data(z,"isoTransform",C);z.style[s]=u};h.cssNumber.scale=true;h.cssHooks.scale={set:function(u,v){if(typeof v==="string"){v=parseFloat(v)}r(u,"scale",v)},get:function(w,v){var u=h.data(w,"isoTransform");return u&&u.scale?u.scale:1}};h.fx.step.scale=function(u){h.cssHooks.scale.set(u.elem,u.now+u.unit)};h.cssNumber.translate=true;h.cssHooks.translate={set:function(u,v){r(u,"translate",v)},get:function(w,v){var u=h.data(w,"isoTransform");return u&&u.translate?u.translate:[0,0]}}}var a=h.event,t;a.special.smartresize={setup:function(){h(this).bind("resize",a.special.smartresize.handler)},teardown:function(){h(this).unbind("resize",a.special.smartresize.handler)},handler:function(z,u){var w=this,v=arguments;z.type="smartresize";if(t){clearTimeout(t)}t=setTimeout(function(){jQuery.event.handle.apply(w,v)},u==="execAsap"?0:100)}};h.fn.smartresize=function(u){return u?this.bind("smartresize",u):this.trigger("smartresize",["execAsap"])};h.Isotope=function(u,v){this.element=h(v);this._create(u);this._init()};var q=["overflow","position","width","height"];h.Isotope.settings={resizable:true,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:Modernizr.csstransforms&&!h.browser.opera?{opacity:0,scale:0.001}:{opacity:0},visibleStyle:Modernizr.csstransforms&&!h.browser.opera?{opacity:1,scale:1}:{opacity:1},animationEngine:h.browser.opera?"jquery":"best-available",animationOptions:{queue:false,duration:800},sortBy:"original-order",sortAscending:true,resizesContainer:true,transformsEnabled:true,itemPositionDataEnabled:false};h.Isotope.prototype={_create:function(B){this.options=h.extend(true,{},h.Isotope.settings,B);this.styleQueue=[];this.elemCount=0;var z=this.element[0].style;this.originalStyle={};for(var C=0,v=q.length;C<v;C++){var D=q[C];this.originalStyle[D]=z[D]||null}this.element.css({overflow:"hidden",position:"relative"});this._updateAnimationEngine();this._updateUsingTransforms();var A={"original-order":function(F,E){return E.elemCount}};this.options.getSortData=h.extend(this.options.getSortData,A);this.reloadItems();var w=h(document.createElement("div")).prependTo(this.element);this.offset=w.position();w.remove();var u=this;setTimeout(function(){u.element.addClass(u.options.containerClass)},0);if(this.options.resizable){h(n).bind("smartresize.isotope",function(){u.resize()})}},_getAtoms:function(z){var u=this.options.itemSelector,w=u?z.filter(u).add(z.find(u)):z,v={position:"absolute"};if(this.usingTransforms){v.left=0;v.top=0}w.css(v).addClass(this.options.itemClass);this.updateSortData(w,true);return w},_init:function(u){this.$filteredAtoms=this._filter(this.$allAtoms);this._sort();this.reLayout(u)},option:function(v){if(h.isPlainObject(v)){this.options=h.extend(true,this.options,v);for(var u in v){this._updateOption(u)}}},_updateOption:function(v){var u="_update"+v.charAt(0).toUpperCase()+v.slice(1);if(this[u]){this[u]()}},_updateAnimationEngine:function(){var u=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,"");switch(u){case"css":case"none":this.isUsingJQueryAnimation=false;break;case"jquery":this.isUsingJQueryAnimation=true;break;default:this.isUsingJQueryAnimation=!Modernizr.csstransitions}this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){this.usingTransforms=this.options.transformsEnabled&&Modernizr.csstransforms&&Modernizr.csstransitions&&!this.isUsingJQueryAnimation;this.getPositionStyles=this.usingTransforms?this._translate:this._positionAbs},_filter:function(B){var A,w=this.options.filter===""?"*":this.options.filter;if(!w){A=B}else{var D=this.options.hiddenClass,v="."+D,C=B.not(v),E=B.filter(v),z=E;A=B.filter(w);if(w!=="*"){z=E.filter(w);var u=C.not(w).toggleClass(D);u.addClass(D);this.styleQueue.push({$el:u,style:this.options.hiddenStyle})}this.styleQueue.push({$el:z,style:this.options.visibleStyle});z.removeClass(D)}return A},updateSortData:function(B,w){var v=this,z=this.options.getSortData,A,u;B.each(function(){A=h(this);u={};for(var C in z){u[C]=z[C](A,v)}h.data(this,"isotope-sort-data",u);if(w){v.elemCount++}})},_sort:function(){var z=this.options.sortBy,w=this._getSorter,u=this.options.sortAscending?1:-1,v=function(D,C){var B=w(D,z),A=w(C,z);if(B===A&&z!=="original-order"){B=w(D,"original-order");A=w(C,"original-order")}return((B>A)?1:(B<A)?-1:0)*u};this.$filteredAtoms.sort(v)},_getSorter:function(u,v){return h.data(u,"isotope-sort-data")[v]},_translate:function(u,v){return{translate:[u,v]}},_positionAbs:function(u,v){return{left:u,top:v}},_pushPosition:function(w,v,z){v+=this.offset.left;z+=this.offset.top;var u=this.getPositionStyles(v,z);this.styleQueue.push({$el:w,style:u});if(this.options.itemPositionDataEnabled){w.data("isotope-item-position",{x:v,y:z})}},layout:function(B,A){var z=this.options.layoutMode;this["_"+z+"Layout"](B);if(this.options.resizesContainer){var v=this["_"+z+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:v})}var w=!this.isLaidOut?"css":(this.isUsingJQueryAnimation?"animate":"css"),u=this.options.animationOptions;h.each(this.styleQueue,function(C,D){D.$el[w](D.style,u)});this.styleQueue=[];if(A){A.call(B)}this.isLaidOut=true},resize:function(){if(this["_"+this.options.layoutMode+"ResizeChanged"]()){this.reLayout()}},reLayout:function(u){this["_"+this.options.layoutMode+"Reset"]();this.layout(this.$filteredAtoms,u)},addItems:function(v,w){var u=this._getAtoms(v);this.$allAtoms=this.$allAtoms.add(u);if(w){w(u)}},insert:function(v,w){this.element.append(v);var u=this;this.addItems(v,function(A){var z=u._filter(A);u.$filteredAtoms=u.$filteredAtoms.add(z)});this._sort();this.reLayout(w)},appended:function(v,w){var u=this;this.addItems(v,function(z){u.$filteredAtoms=u.$filteredAtoms.add(z);u.layout(z,w)})},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(u){this.$allAtoms=this.$allAtoms.not(u);this.$filteredAtoms=this.$filteredAtoms.not(u);u.remove()},_shuffleArray:function(z){var v,w,u=z.length;if(u){while(--u){w=~~(Math.random()*(u+1));v=z[w];z[w]=z[u];z[u]=v}}return z},shuffle:function(u){this.options.sortBy="shuffle";this.$allAtoms=this._shuffleArray(this.$allAtoms);this.$filteredAtoms=this._filter(this.$allAtoms);this.reLayout(u)},destroy:function(){var z=this.usingTransforms;this.$allAtoms.removeClass(this.options.hiddenClass+" "+this.options.itemClass).each(function(){this.style.position=null;this.style.top=null;this.style.left=null;this.style.opacity=null;if(z){this.style[s]=null}});var v=this.element[0].style;for(var w=0,u=q.length;w<u;w++){var A=q[w];v[A]=this.originalStyle[A]}this.element.unbind(".isotope").removeClass(this.options.containerClass).removeData("isotope");h(n).unbind(".isotope")},_getSegments:function(C){var z=this.options.layoutMode,v=C?"rowHeight":"columnWidth",E=C?"height":"width",D=C?"Height":"Width",A=C?"rows":"cols",u=this.element[E](),B,w;w=this.options[z]&&this.options[z][v]||this.$filteredAtoms["outer"+D](true)||u;B=Math.floor(u/w);B=Math.max(B,1);this[z][A]=B;this[z][v]=w},_checkIfSegmentsChanged:function(z){var v=this.options.layoutMode,w=z?"rows":"cols",u=this[v][w];this._getSegments(z);return(this[v][w]!==u)},_masonryReset:function(){this.masonry={};this._getSegments();var u=this.masonry.cols;this.masonry.colYs=[];while(u--){this.masonry.colYs.push(0)}},_masonryLayout:function(w){var u=this,v=u.masonry;w.each(function(){var D=h(this),B=Math.ceil(D.outerWidth(true)/v.columnWidth);B=Math.min(B,v.cols);if(B===1){u._masonryPlaceBrick(D,v.colYs)}else{var E=v.cols+1-B,A=[],C,z;for(z=0;z<E;z++){C=v.colYs.slice(z,z+B);A[z]=Math.max.apply(Math,C)}u._masonryPlaceBrick(D,A)}})},_masonryPlaceBrick:function(z,C){var w=Math.min.apply(Math,C),A=0;for(var B=0,u=C.length;B<u;B++){if(C[B]===w){A=B;break}}x=this.masonry.columnWidth*A;y=w;this._pushPosition(z,x,y);var v=w+z.outerHeight(true),D=this.masonry.cols+1-u;for(B=0;B<D;B++){this.masonry.colYs[A+B]=v}},_masonryGetContainerSize:function(){var u=Math.max.apply(Math,this.masonry.colYs);return{height:u+76}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(z){var u=this,w=this.element.width(),v=this.fitRows;z.each(function(){var C=h(this),B=C.outerWidth(true),A=C.outerHeight(true);if(v.x!==0&&B+v.x>w){v.x=0;v.y=v.height}u._pushPosition(C,v.x,v.y);v.height=Math.max(v.y+A,v.height);v.x+=B})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return true},_cellsByRowReset:function(){this.cellsByRow={index:0};this._getSegments();this._getSegments(true)},_cellsByRowLayout:function(w){var u=this,v=this.cellsByRow;w.each(function(){var B=h(this),A=v.index%v.cols,C=~~(v.index/v.cols),z=(A+0.5)*v.columnWidth-B.outerWidth(true)/2,D=(C+0.5)*v.rowHeight-B.outerHeight(true)/2;u._pushPosition(B,z,D);v.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(v){var u=this;v.each(function(w){var z=h(this);u._pushPosition(z,0,u.straightDown.y);u.straightDown.y+=z.outerHeight(true)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return true},_masonryHorizontalReset:function(){this.masonryHorizontal={};this._getSegments(true);var u=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(u--){this.masonryHorizontal.rowXs.push(0)}},_masonryHorizontalLayout:function(w){var u=this,v=u.masonryHorizontal;w.each(function(){var D=h(this),B=Math.ceil(D.outerHeight(true)/v.rowHeight);B=Math.min(B,v.rows);if(B===1){u._masonryHorizontalPlaceBrick(D,v.rowXs)}else{var E=v.rows+1-B,A=[],C,z;for(z=0;z<E;z++){C=v.rowXs.slice(z,z+B);A[z]=Math.max.apply(Math,C)}u._masonryHorizontalPlaceBrick(D,A)}})},_masonryHorizontalPlaceBrick:function(v,D){var w=Math.min.apply(Math,D),z=0;for(var A=0,u=D.length;A<u;A++){if(D[A]===w){z=A;break}}x=w;y=this.masonryHorizontal.rowHeight*z;this._pushPosition(v,x,y);var B=w+v.outerWidth(true),C=this.masonryHorizontal.rows+1-u;for(A=0;A<C;A++){this.masonryHorizontal.rowXs[z+A]=B}},_masonryHorizontalGetContainerSize:function(){var u=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:u}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(true)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(z){var u=this,w=this.element.height(),v=this.fitColumns;z.each(function(){var C=h(this),B=C.outerWidth(true),A=C.outerHeight(true);if(v.y!==0&&A+v.y>w){v.x=v.width;v.y=0}u._pushPosition(C,v.x,v.y);v.width=Math.max(v.x+B,v.width);v.y+=A})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return true},_cellsByColumnReset:function(){this.cellsByColumn={index:0};this._getSegments();this._getSegments(true)},_cellsByColumnLayout:function(w){var u=this,v=this.cellsByColumn;w.each(function(){var B=h(this),A=~~(v.index/v.rows),C=v.index%v.rows,z=(A+0.5)*v.columnWidth-B.outerWidth(true)/2,D=(C+0.5)*v.rowHeight-B.outerHeight(true)/2;u._pushPosition(B,z,D);v.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(true)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(v){var u=this;v.each(function(w){var z=h(this);u._pushPosition(z,u.straightAcross.x,0);u.straightAcross.x+=z.outerWidth(true)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return true}};h.fn.imagesLoaded=function(z){var v=this.find("img"),u=v.length,w=this;if(!v.length){z.call(this)}v.bind("load",function(){if(--u<=0){z.call(w)}}).each(function(){if(this.complete||this.complete===d){var A=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";this.src=A}});return this};h.fn.isotope=function(v){if(typeof v==="string"){var u=Array.prototype.slice.call(arguments,1);this.each(function(){var w=h.data(this,"isotope");if(!w){return h.error("cannot call methods on isotope prior to initialization; attempted to call method '"+v+"'")}if(!h.isFunction(w[v])||v.charAt(0)==="_"){return h.error("no such method '"+v+"' for isotope instance")}w[v].apply(w,u)})}else{this.each(function(){var w=h.data(this,"isotope");if(w){w.option(v);w._init()}else{h.data(this,"isotope",new h.Isotope(v,this))}})}return this}})(window,jQuery);(function(K,n,X){var L={transition:"elastic",speed:300,width:false,initialWidth:"600",innerWidth:false,maxWidth:false,height:false,initialHeight:"450",innerHeight:false,maxHeight:false,scalePhotos:true,scrolling:true,inline:false,html:false,iframe:false,fastIframe:true,photo:false,href:false,title:false,rel:false,opacity:0.9,preloading:true,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:false,returnFocus:true,loop:true,slideshow:false,slideshowAuto:true,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:false,onLoad:false,onComplete:false,onCleanup:false,onClosed:false,overlayClose:true,escKey:true,arrowKey:true},B="colorbox",U="cbox",W=U+"_open",e=U+"_load",V=U+"_complete",w=U+"_cleanup",ac=U+"_closed",l=U+"_purge",z=K.browser.msie&&!K.support.opacity,af=z&&K.browser.version<7,ab=U+"_IE6",S,ag,ah,d,I,s,b,R,c,aa,O,m,h,r,v,Y,u,T,D,E,ad={},ai,o,g,a,A,J,q,G,Z,N=false,M,t=U+"Element";function Q(al,aj){var ak=n.createElement("div");if(al){ak.id=U+al}ak.style.cssText=aj||false;return K(ak)}function P(aj,ak){ak=ak==="x"?aa.width():aa.height();return(typeof aj==="string")?Math.round((/%/.test(aj)?(ak/100)*parseInt(aj,10):parseInt(aj,10))):aj}function F(aj){return ad.photo||/\.(gif|png|jpg|jpeg|bmp)(?:\?([^#]*))?(?:#(\.*))?$/i.test(aj)}function ae(ak){for(var aj in ak){if(K.isFunction(ak[aj])&&aj.substring(0,2)!=="on"){ak[aj]=ak[aj].call(A)}}ak.rel=ak.rel||A.rel||"nofollow";ak.href=K.trim(ak.href||K(A).attr("href"));ak.title=ak.title||A.title}function H(aj,ak){if(ak){ak.call(A)}K.event.trigger(aj)}function C(){var ak,am=U+"Slideshow_",an="click."+U,ao,al,aj;if(ad.slideshow&&c[1]){ao=function(){Y.text(ad.slideshowStop).unbind(an).bind(V,function(){if(J<c.length-1||ad.loop){ak=setTimeout(M.next,ad.slideshowSpeed)}}).bind(e,function(){clearTimeout(ak)}).one(an+" "+w,al);ag.removeClass(am+"off").addClass(am+"on");ak=setTimeout(M.next,ad.slideshowSpeed)};al=function(){clearTimeout(ak);Y.text(ad.slideshowStart).unbind([V,e,w,an].join(" ")).one(an,ao);ag.removeClass(am+"on").addClass(am+"off")};if(ad.slideshowAuto){ao()}else{al()}}}function f(aj){if(!N){A=aj;ae(K.extend(ad,K.data(A,B)));c=K(A);J=0;myClass=K(this).attr("class");if(ad.myClass!=="nofollow"){c=K("."+t).filter(function(){var al=K.data(this,B).myClass||this.myClass;return(al===ad.myClass)});J=c.index(A);if(J===-1){c=c.add(A);J=c.length-1}}if(!G){G=Z=true;ag.show();if(ad.returnFocus){try{A.blur();K(A).one(ac,function(){try{this.focus()}catch(al){}})}catch(ak){}}S.css({opacity:+ad.opacity,cursor:ad.overlayClose?"pointer":"auto"}).show();ad.w=P(ad.initialWidth,"x");ad.h=P(ad.initialHeight,"y");M.position(0);if(af){aa.bind("resize."+ab+" scroll."+ab,function(){S.css({width:aa.width(),height:aa.height(),top:aa.scrollTop(),left:aa.scrollLeft()})}).trigger("resize."+ab)}H(W,ad.onOpen);E.add(r).hide();D.html(ad.close).show()}M.load(true)}}M=K.fn[B]=K[B]=function(aj,am){var ak=this,al;if(!ak[0]&&ak.selector){return ak}aj=aj||{};if(am){aj.onComplete=am}if(!ak[0]||ak.selector===undefined){ak=K("<a/>");aj.open=true}ak.each(function(){K.data(this,B,K.extend({},K.data(this,B)||L,aj));K(this).addClass(t)});al=aj.open;if(K.isFunction(al)){al=al.call(ak)}if(al){f(ak[0])}return ak};M.init=function(){aa=K(X);ag=Q().attr({id:B,"class":z?U+(af?"IE6":"IE"):""});S=Q("Overlay",af?"position:absolute":"").hide();ah=Q("Wrapper");d=Q("Content").append(O=Q("LoadedContent","width:0; height:0; overflow:hidden"),h=Q("LoadingOverlay").add(Q("LoadingGraphic")),r=Q("Title"),v=Q("Current"),u=Q("Next"),T=Q("Previous"),Y=Q("Slideshow").bind(W,C),D=Q("Close"));ah.append(Q().append(Q("TopLeft"),I=Q("TopCenter"),Q("TopRight")),Q(false,"clear:left").append(s=Q("MiddleLeft"),d,b=Q("MiddleRight")),Q(false,"clear:left").append(Q("BottomLeft"),R=Q("BottomCenter"),Q("BottomRight"))).children().children().css({"float":"left"});m=Q(false,"position:absolute; width:9999px; visibility:hidden; display:none");K("body").prepend(S,ag.append(ah,m));d.children().hover(function(){K(this).addClass("hover")},function(){K(this).removeClass("hover")}).addClass("hover");ai=I.height()+R.height()+d.outerHeight(true)-d.height();o=s.width()+b.width()+d.outerWidth(true)-d.width();g=O.outerHeight(true);a=O.outerWidth(true);ag.css({"padding-bottom":ai,"padding-right":o}).hide();u.click(function(){M.next()});T.click(function(){M.prev()});D.click(function(){M.close()});E=u.add(T).add(v).add(Y);d.children().removeClass("hover");K("."+t).live("click",function(aj){if(!((aj.button!==0&&typeof aj.button!=="undefined")||aj.ctrlKey||aj.shiftKey||aj.altKey)){aj.preventDefault();f(this)}});S.click(function(){if(ad.overlayClose){M.close()}});K(n).bind("keydown."+U,function(ak){var aj=ak.keyCode;if(G&&ad.escKey&&aj===27){ak.preventDefault();M.close()}if(G&&ad.arrowKey&&c[1]){if(aj===37){ak.preventDefault();T.click()}else{if(aj===39){ak.preventDefault();u.click()}}}})};M.remove=function(){ag.add(S).remove();K("."+t).die("click").removeData(B).removeClass(t)};M.position=function(an,ak){var am,al=Math.max(n.documentElement.clientHeight-ad.h-g-ai,0)/2+aa.scrollTop(),aj=Math.max(aa.width()-ad.w-a-o,0)/2+aa.scrollLeft();am=(ag.width()===ad.w+a&&ag.height()===ad.h+g)?0:an;ah[0].style.width=ah[0].style.height="9999px";function ao(ap){I[0].style.width=R[0].style.width=d[0].style.width=ap.style.width;h[0].style.height=h[1].style.height=d[0].style.height=s[0].style.height=b[0].style.height=ap.style.height}ag.dequeue().animate({width:ad.w+a,height:ad.h+g,top:al,left:aj},{duration:am,complete:function(){ao(this);Z=false;ah[0].style.width=(ad.w+a+o)+"px";ah[0].style.height=(ad.h+g+ai)+"px";if(ak){ak()}},step:function(){ao(this)}})};M.resize=function(aj){if(G){aj=aj||{};if(aj.width){ad.w=P(aj.width,"x")-a-o}if(aj.innerWidth){ad.w=P(aj.innerWidth,"x")}O.css({width:ad.w});if(aj.height){ad.h=P(aj.height,"y")-g-ai}if(aj.innerHeight){ad.h=P(aj.innerHeight,"y")}if(!aj.innerHeight&&!aj.height){var ak=O.wrapInner("<div style='overflow:auto'></div>").children();ad.h=ak.height();ak.replaceWith(ak.children())}O.css({height:ad.h});M.position(ad.transition==="none"?0:ad.speed)}};M.prep=function(al){if(!G){return}var am=ad.transition==="none"?0:ad.speed;aa.unbind("resize."+U);O.remove();O=Q("LoadedContent").html(al);function aj(){ad.w=ad.w||O.width();ad.w=ad.mw&&ad.mw<ad.w?ad.mw:ad.w;return ad.w}function an(){ad.h=ad.h||O.height();ad.h=ad.mh&&ad.mh<ad.h?ad.mh:ad.h;return ad.h}O.hide().appendTo(m.show()).css({width:aj(),overflow:ad.scrolling?"auto":"hidden"}).css({height:an()}).prependTo(d);m.hide();K(q).css({"float":"none"});if(af){K("select").not(ag.find("select")).filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one(w,function(){this.style.visibility="inherit"})}function ak(ao){M.position(ao,function(){var av,aw,at,ar,au=c.length,aq,ap;if(!G){return}ap=function(){h.hide();H(V,ad.onComplete)};if(z){if(q){O.fadeIn(100)}}r.html(ad.title).add(O).show();if(au>1){if(typeof ad.current==="string"){v.html(ad.current.replace(/\{current\}/,J+1).replace(/\{total\}/,au)).show()}u[(ad.loop||J<au-1)?"show":"hide"]().html(ad.next);T[(ad.loop||J)?"show":"hide"]().html(ad.previous);av=J?c[J-1]:c[au-1];at=J<au-1?c[J+1]:c[0];if(ad.slideshow){Y.show()}if(ad.preloading){ar=K.data(at,B).href||at.href;aw=K.data(av,B).href||av.href;ar=K.isFunction(ar)?ar.call(at):ar;aw=K.isFunction(aw)?aw.call(av):aw;if(F(ar)){K("<img/>")[0].src=ar}if(F(aw)){K("<img/>")[0].src=aw}}}else{E.hide()}if(ad.iframe){aq=K("<iframe/>").addClass(U+"Iframe")[0];if(ad.fastIframe){ap()}else{K(aq).load(ap)}aq.name=U+(+new Date());aq.src=ad.href;if(!ad.scrolling){aq.scrolling="no"}if(z){aq.frameBorder=0;aq.allowTransparency="true"}K(aq).appendTo(O).one(l,function(){aq.src="//about:blank"})}else{ap()}if(ad.transition==="fade"){ag.fadeTo(am,1,function(){ag[0].style.filter=""})}else{ag[0].style.filter=""}aa.bind("resize."+U,function(){M.position(0)})})}if(ad.transition==="fade"){ag.fadeTo(am,0,function(){ak(0)})}else{ak(am)}};M.load=function(al){var ak,am,aj=M.prep;Z=true;q=false;A=c[J];if(!al){ae(K.extend(ad,K.data(A,B)))}H(l);H(e,ad.onLoad);ad.h=ad.height?P(ad.height,"y")-g-ai:ad.innerHeight&&P(ad.innerHeight,"y");ad.w=ad.width?P(ad.width,"x")-a-o:ad.innerWidth&&P(ad.innerWidth,"x");ad.mw=ad.w;ad.mh=ad.h;if(ad.maxWidth){ad.mw=P(ad.maxWidth,"x")-a-o;ad.mw=ad.w&&ad.w<ad.mw?ad.w:ad.mw}if(ad.maxHeight){ad.mh=P(ad.maxHeight,"y")-g-ai;ad.mh=ad.h&&ad.h<ad.mh?ad.h:ad.mh}ak=ad.href;h.show();if(ad.inline){Q().hide().insertBefore(K(ak)[0]).one(l,function(){K(this).replaceWith(O.children())});aj(K(ak))}else{if(ad.iframe){aj(" ")}else{if(ad.html){aj(ad.html)}else{if(F(ak)){K(q=new Image()).addClass(U+"Photo").error(function(){ad.title=false;aj(Q("Error").text("This image could not be loaded"))}).load(function(){var an;q.onload=null;if(ad.scalePhotos){am=function(){q.height-=q.height*an;q.width-=q.width*an};if(ad.mw&&q.width>ad.mw){an=(q.width-ad.mw)/q.width;am()}if(ad.mh&&q.height>ad.mh){an=(q.height-ad.mh)/q.height;am()}}if(ad.h){q.style.marginTop=Math.max(ad.h-q.height,0)/2+"px"}if(c[1]&&(J<c.length-1||ad.loop)){q.style.cursor="pointer";q.onclick=function(){M.next()}}if(z){q.style.msInterpolationMode="bicubic"}setTimeout(function(){aj(q)},1)});setTimeout(function(){q.src=ak},1)}else{if(ak){m.load(ak,function(ao,an,ap){aj(an==="error"?Q("Error").text("Request unsuccessful: "+ap.statusText):K(this).contents())})}}}}}};M.next=function(){if(!Z&&c[1]&&(J<c.length-1||ad.loop)){J=J<c.length-1?J+1:0;M.load()}};M.prev=function(){if(!Z&&c[1]&&(J||ad.loop)){J=J?J-1:c.length-1;M.load()}};M.close=function(){if(G&&!N){N=true;G=false;H(w,ad.onCleanup);aa.unbind("."+U+" ."+ab);S.fadeTo(200,0);ag.stop().fadeTo(300,0,function(){ag.add(S).css({opacity:1,cursor:"auto"}).hide();H(l);O.remove();setTimeout(function(){N=false;H(ac,ad.onClosed)},1)})}};M.element=function(){return K(A)};M.settings=L;K(M.init)}(jQuery,document,this));jQuery(document).ready(function(){jQuery("a[class='lightbox_image']").colorbox();jQuery("a[class='lightbox_video']").each(setZoomIcon);jQuery("a[class='lightbox_image']").each(setZoomIcon)});function setZoomIcon(f){if(this.getElementsByTagName("img").length==0){return true}var c="image_icon_play.png";if(this.rel=="lightbox_image"){c="image_icon_zoom.png"}var e;var d=jQuery(this);var a=d.find("img:first");d.append(e=jQuery("<img src='"+themeDir+"/images/"+c+"' class='lb_zoom' />"));var b=a.height();if(a.height()>a.width()){b=a.width()}var h=jQuery(this).offset();e.css({position:"absolute",height:b+"px",width:b+"px"});e.offset({left:h.left+Math.round((a.width()-e.width())/2)});if(jQuery.browser.mozilla){e.offset({left:a.offset().left+Math.round((a.width()-e.width())/2)})}if(jQuery.browser.msie){e.offset({top:a.offset().top+Math.round((a.height()-e.height())/2),left:a.offset().left+Math.round((a.width()-e.width())/2)})}if(jQuery.browser.msie){var g=e.offset().left;if(g<0){g=-g}e.offset({left:g+Math.round((a.width()-e.width())/2),top:a.offset().top});e.hide()}else{e.css({opacity:0})}d.hover(function(){var n=jQuery(this).find("img.lb_zoom");if(jQuery.browser.webkit){var l=jQuery(this).find("img:first");var m=l.height();if(l.height()>l.width()){m=l.width()}n.css({width:m+"px",height:m+"px"});n.offset({top:l.offset().top+Math.round((l.height()-n.height())/2),left:l.offset().left+Math.round((l.width()-n.width())/2)})}if(jQuery.browser.opera){var l=jQuery(this).find("img:first");if(parseInt(n.css("top"))<0){n.hide()}}if(jQuery.browser.msie){n.show()}else{n.animate({opacity:1},300)}},function(){if(jQuery.browser.msie){e.hide()}else{e.animate({opacity:0},300)}})}function setForVideo(c){var a=jQuery("#"+c);var b=a.find("div.galleria-thumbnails").find("div.galleria-image");b.unbind("click");b.find("img").bind("click",function(o){var g=a.find(".galleria-stage").width();var r=a.find(".galleria-stage").height();var d=this.src.split("?video=")[1];if(d.indexOf("youtube.com")>0||d.indexOf("vimeo.com")>0){var n=a.find("div.galleria-images").find("div.galleria-image");var m=a.find("galleria-thumbnails-list").find("img");n.each(function(u){var w=m[u].attr("src").split("?video=")[1];if(w.indexOf("youtube.com")>0||w.indexOf("vimeo.com")>0){n[u].html('<iframe frameborder="0" src="'+w+'" width="'+g+'" height="'+r+'"></iframe>')}else{var v={};var s={};var e={};s.id="#vh_"+c;e.moviefile=encodeURIComponent(w);e.autoplay=1;e.wmode="transparent";v.moviefile=encodeURIComponent(w);v.autoplay=1;v.wmode="transparent";var t=themeDir+"/tdplayer.swf";swfobject.embedSWF(t,"vh_"+c,a.find(".galleria-stage").width(),a.find(".galleria-stage").height(),"9",false,e,v,s)}})}else{var l={};var q={};var h={};q.id="#vh_"+c;h.moviefile=encodeURIComponent(d);h.autoplay=1;h.wmode="transparent";l.moviefile=encodeURIComponent(d);l.autoplay=1;l.wmode="transparent";var f=themeDir+"/tdplayer.swf";swfobject.embedSWF(f,"vh_"+c,a.find(".galleria-stage").width(),a.find(".galleria-stage").height(),"9",false,h,l,q)}})}function showGalleryFrame(b){var a=jQuery("#"+b);a.find("div.galleria-images").find("img").each(function(c){var d=this.src.split("?video=")[1];this.parentNode.innerHTML='<iframe scrolling="no" style="z-index: 2 !important; overflow-x: hidden; overflow-y: hidden;" id="gl_video" src="'+themeDir+"/lib/videogallery.php?src="+d+"&theme="+themeDir+'" width="100%" height="100%"></iframe>'});a.find("div.galleria-thumbnails").find("div.galleria-image").unbind("click");a.find("div.galleria-image-nav-right").hide();a.find("div.galleria-image-nav-left").hide();a.find("div.galleria-counter").hide();a.find("div.galleria-thumbnails").find("div.galleria-image").find("img").bind("click",function(){var c=this.src.split("?video=")[1];document.getElementById("gl_video").src=themeDir+"/lib/videogallery.php?src="+c+"&theme="+themeDir})}(function(f){var c,l=this,r=document,e=f(r);var q=false,m=navigator.userAgent.toLowerCase(),d=l.location.hash.replace(/#\//,""),n=function(){return Galleria.TOUCH?"touchstart":"click"},h=(function(){var t=3,u=r.createElement("div");while(u.innerHTML="<!--[if gt IE "+(++t)+"]><i></i><![endif]-->",u.getElementsByTagName("i")[0]){}return t>4?t:c}()),s=function(){return{html:r.documentElement,body:r.body,head:r.getElementsByTagName("head")[0],title:r.title}},b={trunk:{},add:function(z,w,v,u){u=u||false;this.clear(z);if(u){var t=w;w=function(){t();b.add(z,w,v)}}this.trunk[z]=l.setTimeout(w,v)},clear:function(v){var t=function(w){l.clearTimeout(this.trunk[w]);delete this.trunk[w]};if(!!v&&v in this.trunk){t.call(b,v)}else{if(typeof v=="undefined"){for(var u in this.trunk){t.call(b,u)}}}}},a=[],o={fade:function(u,t){f(u.next).css("opacity",0).show().animate({opacity:1},u.speed,t);if(u.prev){f(u.prev).css("opacity",1).show().animate({opacity:0},u.speed)}},flash:function(u,t){f(u.next).css("opacity",0);if(u.prev){f(u.prev).animate({opacity:0},(u.speed/2),function(){f(u.next).animate({opacity:1},u.speed,t)})}else{f(u.next).animate({opacity:1},u.speed,t)}},pulse:function(u,t){if(u.prev){f(u.prev).hide()}f(u.next).css("opacity",0).animate({opacity:1},u.speed,t)},slide:function(z,u){var w=f(z.next).parent(),t=this.$("images"),v=this._stageWidth,A=this.getOptions("easing");w.css({left:v*(z.rewind?-1:1)});t.animate({left:v*(z.rewind?1:-1)},{duration:z.speed,queue:false,easing:A,complete:function(){t.css("left",0);w.css("left",0);u()}})},fadeslide:function(v,u){var t=0,z=this.getOptions("easing"),w=this.getStageWidth();if(v.prev){t=g.parseValue(f(v.prev).css("left"));f(v.prev).css({opacity:1,left:t}).animate({opacity:0,left:t+(w*(v.rewind?1:-1))},{duration:v.speed,queue:false,easing:z})}t=g.parseValue(f(v.next).css("left"));f(v.next).css({left:t+(w*(v.rewind?-1:1)),opacity:0}).animate({opacity:1,left:t},{duration:v.speed,complete:u,queue:false,easing:z})}},g=(function(){return{array:function(t){return Array.prototype.slice.call(t)},create:function(t,v){v=v||"div";var u=r.createElement(v);u.className=t;return u},forceStyles:function(u,t){u=f(u);if(u.attr("style")){u.data("styles",u.attr("style")).removeAttr("style")}u.css(t)},revertStyles:function(){f.each(g.array(arguments),function(t,u){u=f(u).removeAttr("style");if(u.data("styles")){u.attr("style",u.data("styles")).data("styles",null)}})},moveOut:function(t){g.forceStyles(t,{position:"absolute",left:-10000})},moveIn:function(){g.revertStyles.apply(g,g.array(arguments))},hide:function(u,v,w){u=f(u);if(!u.data("opacity")){u.data("opacity",u.css("opacity"))}var t={opacity:0};if(v){u.stop().animate(t,v,w)}else{u.css(t)}},show:function(v,w,z){v=f(v);var u=parseFloat(v.data("opacity"))||1,t={opacity:u};if(u==1){v.data("opacity",null)}if(w){v.stop().animate(t,w,z)}else{v.css(t)}},addTimer:function(){b.add.apply(b,g.array(arguments));return this},clearTimer:function(){b.clear.apply(b,g.array(arguments));return this},wait:function(v){v=f.extend({until:function(){return false},success:function(){},error:function(){Galleria.raise("Could not complete wait function.")},timeout:3000},v);var w=g.timestamp(),t,u;l.setTimeout(function(){u=g.timestamp();t=u-w;if(v.until(t)){v.success();return false}if(u>=w+v.timeout){v.error();return false}l.setTimeout(arguments.callee,2)},2)},toggleQuality:function(t,u){if(!(h==7||h==8)||!!t===false){return}if(typeof u==="undefined"){u=t.style.msInterpolationMode=="nearest-neighbor"}t.style.msInterpolationMode=u?"bicubic":"nearest-neighbor"},insertStyleTag:function(v){var u=r.createElement("style");s().head.appendChild(u);if(u.styleSheet){u.styleSheet.cssText=v}else{var t=r.createTextNode(v);u.appendChild(t)}},loadScript:function(v,z){var t=false,u=f("<script>").attr({src:v,async:true}).get(0);u.onload=u.onreadystatechange=function(){if(!t&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){t=true;if(typeof z=="function"){z.call(this,this)}u.onload=u.onreadystatechange=null}};var w=r.getElementsByTagName("script")[0];w.parentNode.insertBefore(u,w)},parseValue:function(u){if(typeof u=="number"){return u}else{if(typeof u=="string"){var t=u.match(/\-?\d/g);return t&&t.constructor==Array?t.join("")*1:0}else{return 0}}},timestamp:function(){return new Date().getTime()},loadCSS:function(t,A,z){var w,u=false,v;f("link[rel=stylesheet]").each(function(){if(new RegExp(t).test(this.href)){w=this;return false}});if(typeof A=="function"){z=A;A=c}z=z||function(){};if(w){z.call(w,w);return w}v=r.styleSheets.length;if(q){t+="?"+g.timestamp()}if(f("#"+A).length){f("#"+A).attr("href",t);v--;u=true}else{w=f("<link>").attr({rel:"stylesheet",href:t,id:A}).get(0);l.setTimeout(function(){var B=f('link[rel="stylesheet"], style');if(B.length){B.get(0).parentNode.insertBefore(w,B[0])}else{s().head.appendChild(w)}if(h){w.attachEvent("onreadystatechange",function(C){if(w.readyState=="complete"){u=true}})}else{u=true}},10)}if(typeof z=="function"){g.wait({until:function(){return u&&r.styleSheets.length>v},success:function(){g.addTimer("css",function(){z.call(w,w)},100)},error:function(){Galleria.raise("Theme CSS could not load")},timeout:1000})}return w}}})();Galleria=function(){var D=this;this._theme=c;this._options={};this._playing=false;this._playtime=5000;this._active=null;this._queue={length:0};this._data=[];this._dom={};this._thumbnails=[];this._initialized=false;this._stageWidth=0;this._stageHeight=0;this._target=c;this._id=g.timestamp();var z="container stage images image-nav image-nav-left image-nav-right info info-text info-title info-description info-author thumbnails thumbnails-list thumbnails-container thumb-nav-left thumb-nav-right loader counter tooltip",w="current total";f.each(z.split(" "),function(F,G){D._dom[G]=g.create("galleria-"+G)});f.each(w.split(" "),function(F,G){D._dom[G]=g.create("galleria-"+G,"span")});var v=this._keyboard={keys:{UP:38,DOWN:40,LEFT:37,RIGHT:39,RETURN:13,ESCAPE:27,BACKSPACE:8,SPACE:32},map:{},bound:false,press:function(G){var F=G.keyCode||G.which;if(F in v.map&&typeof v.map[F]=="function"){v.map[F].call(D,G)}},attach:function(H){for(var G in H){var F=G.toUpperCase();if(F in v.keys){v.map[v.keys[F]]=H[G]}}if(!v.bound){v.bound=true;e.bind("keydown",v.press)}},detach:function(){v.bound=false;e.unbind("keydown",v.press)}};var B=this._controls={0:c,1:c,active:0,swap:function(){B.active=B.active?0:1},getActive:function(){return B[B.active]},getNext:function(){return B[1-B.active]}};var C=this._carousel={next:D.$("thumb-nav-right"),prev:D.$("thumb-nav-left"),width:0,current:0,max:0,hooks:[],update:function(){var G=0,H=0,F=[0];f.each(D._thumbnails,function(J,I){if(I.ready){G+=I.outerWidth||f(I.container).outerWidth(true);F[J+1]=G;H=Math.max(H,I.outerHeight||f(I.container).outerHeight(true))}});D.$("thumbnails").css({width:G,height:H});C.max=G;C.hooks=F;C.width=D.$("thumbnails-list").width();C.setClasses();D.$("thumbnails-container").toggleClass("galleria-carousel",G>C.width)},bindControls:function(){C.next.bind(n(),function(G){G.preventDefault();if(D._options.carousel_steps=="auto"){for(var F=C.current;F<C.hooks.length;F++){if(C.hooks[F]-C.hooks[C.current]>C.width){C.set(F-2);break}}}else{C.set(C.current+D._options.carousel_steps)}});C.prev.bind(n(),function(G){G.preventDefault();if(D._options.carousel_steps=="auto"){for(var F=C.current;F>=0;F--){if(C.hooks[C.current]-C.hooks[F]>C.width){C.set(F+2);break}else{if(F==0){C.set(0);break}}}}else{C.set(C.current-D._options.carousel_steps)}})},set:function(F){F=Math.max(F,0);while(C.hooks[F-1]+C.width>C.max&&F>=0){F--}C.current=F;C.animate()},getLast:function(F){return(F||C.current)-1},follow:function(F){if(F==0||F==C.hooks.length-2){C.set(F);return}var G=C.current;while(C.hooks[G]-C.hooks[C.current]<C.width&&G<=C.hooks.length){G++}if(F-1<C.current){C.set(F-1)}else{if(F+2>G){C.set(F-G+C.current+2)}}},setClasses:function(){C.prev.toggleClass("disabled",!C.current);C.next.toggleClass("disabled",C.hooks[C.current]+C.width>C.max)},animate:function(G){C.setClasses();var F=C.hooks[C.current]*-1;if(isNaN(F)){return}D.$("thumbnails").animate({left:F},{duration:D._options.carousel_speed,easing:D._options.easing,queue:false})}};var E=this._tooltip={initialized:false,open:false,init:function(){E.initialized=true;var F=".galleria-tooltip{padding:3px 8px;max-width:50%;background:#ffe;color:#000;z-index:3;position:absolute;font-size:11px;line-height:1.3opacity:0;box-shadow:0 0 2px rgba(0,0,0,.4);-moz-box-shadow:0 0 2px rgba(0,0,0,.4);-webkit-box-shadow:0 0 2px rgba(0,0,0,.4);}";g.insertStyleTag(F);D.$("tooltip").css("opacity",0.8);g.hide(D.get("tooltip"))},move:function(M){var L=D.getMousePosition(M).x,K=D.getMousePosition(M).y,I=D.$("tooltip"),O=L,N=K,P=I.outerHeight(true)+1,H=I.outerWidth(true),J=P+15;var G=D.$("container").width()-H-2,F=D.$("container").height()-P-2;if(!isNaN(O)&&!isNaN(N)){O+=10;N-=30;O=Math.max(0,Math.min(G,O));N=Math.max(0,Math.min(F,N));if(K<J){N=J}I.css({left:O,top:N})}},bind:function(G,H){if(!E.initialized){E.init()}var F=function(I,J){E.define(I,J);f(I).hover(function(){g.clearTimer("switch_tooltip");D.$("container").unbind("mousemove",E.move).bind("mousemove",E.move).trigger("mousemove");E.show(I);Galleria.utils.addTimer("tooltip",function(){D.$("tooltip").stop();g.show(D.get("tooltip"),400);E.open=true},E.open?0:1000)},function(){D.$("container").unbind("mousemove",E.move);g.clearTimer("tooltip");D.$("tooltip").stop();g.hide(D.get("tooltip"),200,function(){g.addTimer("switch_tooltip",function(){E.open=false},1000)})})};if(typeof H=="string"){F((G in D._dom?D.get(G):G),H)}else{f.each(G,function(I,J){F(D.get(I),J)})}},show:function(F){F=f(F in D._dom?D.get(F):F);var G=F.data("tt");if(!G){return}G=typeof G=="function"?G():G;D.$("tooltip").html(G.replace(/\s/,"&nbsp;"));F.bind("mouseup",function(H){l.setTimeout((function(I){return function(){E.move(I)}})(H),10);F.unbind("mouseup",arguments.callee)})},define:function(G,H){if(typeof H!=="function"){var F=H;H=function(){return F}}G=f(G in D._dom?D.get(G):G).data("tt",H);E.show(G)}};var A=this._fullscreen={scrolled:0,enter:function(G){g.hide(D.getActiveImage());D.$("container").addClass("fullscreen");A.scrolled=f(l).scrollTop();g.forceStyles(D.get("container"),{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:10000});var F={height:"100%",overflow:"hidden",margin:0,padding:0};g.forceStyles(s().html,F);g.forceStyles(s().body,F);D.attachKeyboard({escape:D.exitFullscreen,right:D.next,left:D.prev});D.rescale(function(){g.addTimer("fullscreen_enter",function(){g.show(D.getActiveImage());if(typeof G=="function"){G.call(D)}},100);D.trigger(Galleria.FULLSCREEN_ENTER)});f(l).resize(function(){A.scale()})},scale:function(){D.rescale()},exit:function(F){g.hide(D.getActiveImage());D.$("container").removeClass("fullscreen");g.revertStyles(D.get("container"),s().html,s().body);l.scrollTo(0,A.scrolled);D.detachKeyboard();D.rescale(function(){g.addTimer("fullscreen_exit",function(){g.show(D.getActiveImage());if(typeof F=="function"){F.call(D)}},50);D.trigger(Galleria.FULLSCREEN_EXIT)});f(l).unbind("resize",A.scale)}};var u=this._idle={trunk:[],bound:false,add:function(G,I){if(!G){return}if(!u.bound){u.addEvent()}G=f(G);var H={};for(var F in I){H[F]=G.css(F)}G.data("idle",{from:H,to:I,complete:true,busy:false});u.addTimer();u.trunk.push(G)},remove:function(F){F=jQuery(F);f.each(u.trunk,function(G,H){if(H.length&&!H.not(F).length){D._idle.show(F);D._idle.trunk.splice(G,1)}});if(!u.trunk.length){u.removeEvent();g.clearTimer("idle")}},addEvent:function(){u.bound=true;D.$("container").bind("mousemove click",u.showAll)},removeEvent:function(){u.bound=false;D.$("container").unbind("mousemove click",u.showAll)},addTimer:function(){g.addTimer("idle",function(){D._idle.hide()},D._options.idle_time)},hide:function(){D.trigger(Galleria.IDLE_ENTER);f.each(u.trunk,function(F,G){var H=G.data("idle");if(!H){return}G.data("idle").complete=false;G.stop().animate(H.to,{duration:600,queue:false,easing:"swing"})})},showAll:function(){g.clearTimer("idle");f.each(D._idle.trunk,function(F,G){D._idle.show(G)})},show:function(F){var G=F.data("idle");if(!G.busy&&!G.complete){G.busy=true;D.trigger(Galleria.IDLE_EXIT);g.clearTimer("idle");F.stop().animate(G.from,{duration:300,queue:false,easing:"swing",complete:function(){f(this).data("idle").busy=false;f(this).data("idle").complete=true}})}u.addTimer()}};var t=this._lightbox={width:0,height:0,initialized:false,active:null,image:null,elems:{},init:function(){D.trigger(Galleria.LIGHTBOX_OPEN);if(t.initialized){return}t.initialized=true;var F="overlay box content shadow title info close prevholder prev nextholder next counter image",I={},K=D._options,G="",J={overlay:"position:fixed;display:none;opacity:"+K.overlay_opacity+";top:0;left:0;width:100%;height:100%;background:"+K.overlay_background+";z-index:99990",box:"position:fixed;display:none;width:400px;height:400px;top:50%;left:50%;margin-top:-200px;margin-left:-200px;z-index:99991",shadow:"position:absolute;background:#000;width:100%;height:100%;",content:"position:absolute;background-color:#fff;top:10px;left:10px;right:10px;bottom:10px;overflow:hidden",info:"position:absolute;bottom:10px;left:10px;right:10px;color:#444;font:11px/13px arial,sans-serif;height:13px",close:"position:absolute;top:10px;right:10px;height:20px;width:20px;background:#fff;text-align:center;cursor:pointer;color:#444;font:16px/22px arial,sans-serif;z-index:99999",image:"position:absolute;top:10px;left:10px;right:10px;bottom:30px;overflow:hidden",prevholder:"position:absolute;width:50%;height:100%;cursor:pointer",nextholder:"position:absolute;width:50%;height:100%;right:0;cursor:pointer",prev:"position:absolute;top:50%;margin-top:-20px;height:40px;width:30px;background:#fff;left:20px;display:none;line-height:40px;text-align:center;color:#000",next:"position:absolute;top:50%;margin-top:-20px;height:40px;width:30px;background:#fff;right:20px;left:auto;display:none;line-height:40px;text-align:center;color:#000",title:"float:left",counter:"float:right;margin-left:8px"},H=function(L){return L.hover(function(){f(this).css("color","#bbb")},function(){f(this).css("color","#444")})};f.each(J,function(L,M){G+=".galleria-lightbox-"+L+"{"+M+"}"});g.insertStyleTag(G);f.each(F.split(" "),function(L,M){D.addElement("lightbox-"+M);I[M]=t.elems[M]=D.get("lightbox-"+M)});t.image=new Galleria.Picture();D.append({"lightbox-box":["lightbox-shadow","lightbox-content","lightbox-close","lightbox-prevholder","lightbox-nextholder"],"lightbox-info":["lightbox-title","lightbox-counter"],"lightbox-content":["lightbox-info","lightbox-image"],"lightbox-prevholder":"lightbox-prev","lightbox-nextholder":"lightbox-next"});f(I.image).append(t.image.container);f(s().body).append(I.overlay,I.box);H(f(I.close).bind(n(),t.hide).html("&#215;"));f.each(["Prev","Next"],function(N,L){var M=f(I[L.toLowerCase()]).html(/v/.test(L)?"‹&nbsp;":"&nbsp;›");f(I[L.toLowerCase()+"holder"]).hover(function(){M.show()},function(){M.fadeOut(200)}).bind(n(),function(){t["show"+L]()})});f(I.overlay).bind(n(),t.hide)},rescale:function(J){var I=Math.min(f(l).width()-40,t.width),F=Math.min(f(l).height()-60,t.height),H=Math.min(I/t.width,F/t.height),G=(t.width*H)+40,L=(t.height*H)+60,K={width:G,height:L,marginTop:Math.ceil(L/2)*-1,marginLeft:Math.ceil(G/2)*-1};if(J){f(t.elems.box).css(K)}else{f(t.elems.box).animate(K,D._options.lightbox_transition_speed,D._options.easing,function(){var N=t.image,M=D._options.lightbox_fade_speed;D.trigger({type:Galleria.LIGHTBOX_IMAGE,imageTarget:N.image});N.show();g.show(N.image,M);g.show(t.elems.info,M)})}},hide:function(){t.image.image=null;f(l).unbind("resize",t.rescale);f(t.elems.box).hide();g.hide(t.elems.info);g.hide(t.elems.overlay,200,function(){f(this).hide().css("opacity",D._options.overlay_opacity);D.trigger(Galleria.LIGHTBOX_CLOSE)})},showNext:function(){t.show(D.getNext(t.active))},showPrev:function(){t.show(D.getPrev(t.active))},show:function(F){t.active=F=typeof F=="number"?F:D.getIndex();if(!t.initialized){t.init()}f(l).unbind("resize",t.rescale);var H=D.getData(F),G=D.getDataLength();g.hide(t.elems.info);t.image.load(H.image,function(I){t.width=I.original.width;t.height=I.original.height;f(I.image).css({width:"100.5%",height:"100.5%",top:0,zIndex:99998,opacity:0});t.elems.title.innerHTML=H.title;t.elems.counter.innerHTML=(F+1)+" / "+G;f(l).resize(t.rescale);t.rescale()});f(t.elems.overlay).show();f(t.elems.box).show()}};return this};Galleria.prototype={constructor:Galleria,init:function(v,u){var t=this;a.push(this);this._original={target:v,options:u,data:null};this._target=this._dom.target=v.nodeName?v:f(v).get(0);if(!this._target){Galleria.raise("Target not found.");return}this._options={autoplay:false,carousel:true,carousel_follow:true,carousel_speed:400,carousel_steps:"auto",clicknext:false,data_config:function(w){return{}},data_selector:"img",data_source:this._target,debug:c,easing:"galleria",extend:function(w){},height:"auto",idle_time:3000,image_crop:false,image_margin:0,image_pan:false,image_pan_smoothness:12,image_position:"50%",keep_source:false,lightbox_fade_speed:200,lightbox_transition_speed:500,link_source_images:true,max_scale_ratio:c,min_scale_ratio:c,on_image:function(z,w){},overlay_opacity:0.85,overlay_background:"#0b0b0b",pause_on_interaction:true,popup_links:false,preload:2,queue:true,show:0,show_info:true,show_counter:true,show_imagenav:true,thumb_crop:true,thumb_event_type:n(),thumb_fit:true,thumb_margin:0,thumb_quality:"auto",thumbnails:true,transition:"fade",transition_initial:c,transition_speed:400,width:"auto"};if(u&&u.debug===true){q=true}f(this._target).children().hide();if(Galleria.theme){this._init()}else{g.addTimer("themeload",function(){Galleria.raise("No theme found.",true)},2000);e.one(Galleria.THEMELOAD,function(){g.clearTimer("themeload");t._init.call(t)})}},_init:function(){var t=this;if(this._initialized){Galleria.raise("Init failed: Gallery instance already initialized.");return this}this._initialized=true;if(!Galleria.theme){Galleria.raise("Init failed: No theme found.");return this}f.extend(true,this._options,Galleria.theme.defaults,this._original.options);this.bind(Galleria.DATA,function(){this._original.data=this._data;this.get("total").innerHTML=this.getDataLength();var z=this.$("container");var w={width:0,height:0};var v=g.create("galleria-image");g.wait({until:function(){f.each(["width","height"],function(C,B){if(t._options[B]&&typeof t._options[B]=="number"){w[B]=t._options[B]}else{w[B]=g.parseValue(z.css(B))||g.parseValue(t.$("target").css(B))||z[B]()||t.$("target")[B]()}});var A=function(){return true};if(t._options.thumbnails){t.$("thumbnails").append(v);A=function(){return !!f(v).height()}}return A()&&w.width&&w.height>50},success:function(){f(v).remove();z.width(w.width);z.height(w.height);if(Galleria.WEBKIT){l.setTimeout(function(){t._run()},1)}else{t._run()}},error:function(){Galleria.raise("Width & Height not found.",true)},timeout:2000})});var u=false;this.bind(Galleria.READY,function(){g.show(this.get("counter"));if(this._options.clicknext){f.each(this._data,function(v,w){delete w.link});this.$("stage").css({cursor:"pointer"}).bind(n(),function(v){t.next()})}if(this._options.carousel){this._carousel.bindControls()}if(this._options.autoplay){this.pause();if(typeof this._options.autoplay=="number"){this._playtime=this._options.autoplay}this.trigger(Galleria.PLAY);this._playing=true}if(u){if(typeof this._options.show=="number"){this.show(this._options.show)}return}u=true;if(Galleria.History){Galleria.History.change(function(v){var w=parseInt(v.value.replace(/\//,""));if(isNaN(w)){l.history.go(-1)}else{t.show(w,c,true)}})}Galleria.theme.init.call(this,this._options);this._options.extend.call(this,this._options);if(/^[0-9]{1,4}$/.test(d)&&Galleria.History){this.show(d,c,true)}else{this.show(this._options.show)}});this.append({"info-text":["info-title","info-description","info-author"],info:["info-text"],"image-nav":["image-nav-right","image-nav-left"],stage:["images","loader","counter","image-nav"],"thumbnails-list":["thumbnails"],"thumbnails-container":["thumb-nav-left","thumbnails-list","thumb-nav-right"],container:["stage","thumbnails-container","info","tooltip"]});g.hide(this.$("counter").append(this.get("current")," / ",this.get("total")));this.setCounter("&#8211;");f.each(new Array(2),function(v){var w=new Galleria.Picture();f(w.container).css({position:"absolute",top:0,left:0});t.$("images").append(w.container);t._controls[v]=w});this.$("images").css({position:"relative",top:0,left:0,width:"100%",height:"100%"});this.$("thumbnails, thumbnails-list").css({overflow:"hidden",position:"relative"});this.$("image-nav-right, image-nav-left").bind(n(),function(w){if(t._options.clicknext){w.stopPropagation()}if(t._options.pause_on_interaction){t.pause()}var v=/right/.test(this.className)?"next":"prev";t[v]()});f.each(["info","counter","image-nav"],function(v,w){if(t._options["show_"+w.replace(/-/,"")]===false){g.moveOut(t.get(w))}});this.load();if(!this._options.keep_source&&!h){this._target.innerHTML=""}this.$("target").append(this.get("container"));if(this._options.carousel){this.bind(Galleria.THUMBNAIL,function(){this.updateCarousel()})}this.bind(Galleria.IMAGE,function(v){this._options.on_image.call(this,v.imageTarget,v.thumbTarget)});return this},_run:function(){var F=this,w=this._options,v=0,D=0,z=typeof w.thumbnails=="string"?w.thumbnails.toLowerCase():null;for(var B=0;this._data[B];B++){var u,A=this._data[B],E;if(w.thumbnails===true){u=new Galleria.Picture(B);var t=A.thumb||A.image;this.$("thumbnails").append(u.container);E=f(u.container);var C=function(G){return r.defaultView&&r.defaultView.getComputedStyle?r.defaultView.getComputedStyle(u.container,null)[G]:E.css(G)};u.data={width:g.parseValue(C("width")),height:g.parseValue(C("height")),order:B};E.css((w.thumb_fit&&w.thumb_crop!==true)?{width:0,height:0}:{width:u.data.width,height:u.data.height});u.load(t,function(G){G.scale({width:G.data.width,height:G.data.height,crop:w.thumb_crop,margin:w.thumb_margin,complete:function(I){var J=["left","top"];var H=["Width","Height"];f.each(H,function(M,N){var K=N.toLowerCase();if((w.thumb_crop!==true||w.thumb_crop==K)&&w.thumb_fit){var L={};L[K]=I[K];f(I.container).css(L);L={};L[J[M]]=0;f(I.image).css(L)}I["outer"+N]=f(I.container)["outer"+N](true)});g.toggleQuality(I.image,w.thumb_quality===true||(w.thumb_quality=="auto"&&I.original.width<I.width*3));F.trigger({type:Galleria.THUMBNAIL,thumbTarget:I.image,index:I.data.order})}})});if(w.preload=="all"){u.add(A.image)}}else{if(z=="empty"||z=="numbers"){u={container:g.create("galleria-image"),image:g.create("img","span"),ready:true};if(z=="numbers"){f(u.image).text(B+1)}this.$("thumbnails").append(u.container);l.setTimeout((function(I,H,G){return function(){f(G).append(I);F.trigger({type:Galleria.THUMBNAIL,thumbTarget:I,index:H})}})(u.image,B,u.container),50+(B*20))}else{u={container:null,image:null}}}f(u.container).add(w.keep_source&&w.link_source_images?A.original:null).data("index",B).bind(w.thumb_event_type,function(H){if(w.pause_on_interaction){F.pause()}var G=f(H.currentTarget).data("index");if(F.getIndex()!==G){F.show(G)}H.preventDefault()});this._thumbnails.push(u)}g.wait({until:function(){F._stageWidth=F.$("stage").width();F._stageHeight=F.$("stage").height();return(F._stageWidth&&F._stageHeight>50)},success:function(){F.trigger(Galleria.READY)},error:function(){Galleria.raise("stage meassures not found")}})},load:function(w,t,v){var u=this;this._data=[];this._thumbnails=[];this.$("thumbnails").empty();if(typeof t=="function"){v=t;t=null}w=w||this._options.data_source;t=t||this._options.data_selector;v=v||this._options.data_config;if(w.constructor==Array){if(this.validate(w)){this._data=w;this.trigger(Galleria.DATA)}else{Galleria.raise("Load failed: JSON Array not valid.")}return this}f(w).find(t).each(function(B,A){var D={},A=f(A),C=A.parent(),z=C.attr("href");if(/\.(png|gif|jpg|jpeg)$/i.test(z)){D.image=z}else{if(z){D.link=z}}u._data.push(f.extend({title:A.attr("title"),thumb:A.attr("src"),image:A.attr("src"),description:A.attr("alt"),link:A.attr("longdesc"),original:A.get(0)},D,v(A)))});if(this.getDataLength()){this.trigger(Galleria.DATA)}else{Galleria.raise("Load failed: no data found.")}return this},_getActive:function(){return this._controls.getActive()},validate:function(t){return true},bind:function(u,t){this.$("container").bind(u,this.proxy(t));return this},unbind:function(t){this.$("container").unbind(t);return this},trigger:function(t){t=typeof t=="object"?f.extend(t,{scope:this}):{type:t,scope:this};this.$("container").trigger(t);return this},addIdleState:function(u,t){this._idle.add.apply(this._idle,g.array(arguments));return this},removeIdleState:function(t){this._idle.remove.apply(this._idle,g.array(arguments));return this},enterIdleMode:function(){this._idle.hide();return this},exitIdleMode:function(){this.idle._show();return this},enterFullscreen:function(t){this._fullscreen.enter.apply(this,g.array(arguments));return this},exitFullscreen:function(t){this._fullscreen.exit.apply(this,g.array(arguments));return this},bindTooltip:function(t,u){this._tooltip.bind.apply(this._tooltip,g.array(arguments));return this},defineTooltip:function(t,u){this._tooltip.define.apply(this._tooltip,g.array(arguments));return this},refreshTooltip:function(){this._tooltip.show.apply(this._tooltip,g.array(arguments));return this},openLightbox:function(){this._lightbox.show.apply(this._lightbox,g.array(arguments));return this},closeLightbox:function(){this._lightbox.hide.apply(this._lightbox,g.array(arguments));return this},getActiveImage:function(){return this._getActive().image||c},getActiveThumb:function(){return this._thumbnails[this._active].image||c},getMousePosition:function(t){return{x:t.pageX-this.$("container").offset().left,y:t.pageY-this.$("container").offset().top}},addPan:function(B){if(this._options.image_crop===false){return}B=f(B||this.getActiveImage());var J=this,I=B.width()/2,G=B.height()/2,v=destX=parseInt(B.css("left"))||0,u=destY=parseInt(B.css("top"))||0,H=0,F=0,z=false,E=g.timestamp(),t=0,w=0,D=function(M,L,N){if(M>0){w=Math.round(Math.max(M*-1,Math.min(0,L)));if(t!=w){t=w;if(h==8){B.parent()["scroll"+N](w*-1)}else{var K={};K[N.toLowerCase()]=w;B.css(K)}}}},A=function(K){if(g.timestamp()-E<50){return}z=true;I=J.getMousePosition(K).x;G=J.getMousePosition(K).y},C=function(K){if(!z){return}H=B.width()-J._stageWidth;F=B.height()-J._stageHeight;destX=I/J._stageWidth*H*-1;destY=G/J._stageHeight*F*-1;v+=(destX-v)/J._options.image_pan_smoothness;u+=(destY-u)/J._options.image_pan_smoothness;D(F,u,"Top");D(H,v,"Left")};if(h==8){B.parent().scrollTop(u*-1).scrollLeft(v*-1);B.css({top:0,left:0})}this.$("stage").unbind("mousemove",A).bind("mousemove",A);g.addTimer("pan",C,50,true);return this},proxy:function(u,t){if(typeof u!=="function"){return function(){}}t=t||this;return function(){return u.apply(t,g.array(arguments))}},removePan:function(){if(h==8){}this.$("stage").unbind("mousemove");g.clearTimer("pan");return this},addElement:function(u){var t=this._dom;f.each(g.array(arguments),function(w,v){t[v]=g.create("galleria-"+v)});return this},attachKeyboard:function(t){this._keyboard.attach.apply(this._keyboard,g.array(arguments));return this},detachKeyboard:function(){this._keyboard.detach.apply(this._keyboard,g.array(arguments));return this},appendChild:function(u,t){this.$(u).append(this.get(t)||t);return this},prependChild:function(u,t){this.$(u).prepend(this.get(t)||t);return this},remove:function(t){this.$(g.array(arguments).join(",")).remove();return this},append:function(v){for(var u in v){if(v[u].constructor==Array){for(var t=0;v[u][t];t++){this.appendChild(u,v[u][t])}}else{this.appendChild(u,v[u])}}return this},_scaleImage:function(u,t){t=f.extend({width:this._stageWidth,height:this._stageHeight,crop:this._options.image_crop,max:this._options.max_scale_ratio,min:this._options.min_scale_ratio,margin:this._options.image_margin,position:this._options.image_position},t);(u||this._controls.getActive()).scale(t);return this},updateCarousel:function(){this._carousel.update();return this},rescale:function(w,t,u){var v=this;if(typeof w=="function"){u=w;w=c}var z=function(){var A=v._options;v._stageWidth=w||v.$("stage").width();v._stageHeight=t||v.$("stage").height();v._scaleImage();if(v._options.carousel){v.updateCarousel()}v.trigger(Galleria.RESCALE);if(typeof u=="function"){u.call(v)}};if(Galleria.WEBKIT&&!w&&!t){g.addTimer("scale",z,5)}else{z.call(v)}return this},refreshImage:function(){this._scaleImage();if(this._options.image_pan){this.addPan()}return this},show:function(u,t,v){if(u===false||!this._options.queue&&this._queue.stalled){return}u=Math.max(0,Math.min(parseInt(u),this.getDataLength()-1));t=typeof t!="undefined"?!!t:u<this.getIndex();v=v||false;if(!v&&Galleria.History){Galleria.History.value(u.toString());return}this._active=u;Array.prototype.push.call(this._queue,{index:u,rewind:t});if(!this._queue.stalled){this._show()}return this},_show:function(){var H=this,F=this._queue[0],D=this.getData(F.index);if(!D){return}var t=D.image,B=this._controls.getActive(),E=this._controls.getNext(),A=E.isCached(t),u=this._thumbnails[F.index];var w=function(){H._queue.stalled=false;g.toggleQuality(E.image,H._options.image_quality);f(B.container).css({zIndex:0,opacity:0});f(E.container).css({zIndex:1,opacity:1});H._controls.swap();if(H._options.image_pan){H.addPan(E.image)}if(D.link){f(E.image).css({cursor:"pointer"}).bind(n(),function(){if(H._options.popup_links){var I=l.open(D.link,"_blank")}else{l.location.href=D.link}})}Array.prototype.shift.call(H._queue);if(H._queue.length){H._show()}H._playCheck();H.trigger({type:Galleria.IMAGE,index:F.index,imageTarget:E.image,thumbTarget:u.image})};if(this._options.carousel&&this._options.carousel_follow){this._carousel.follow(F.index)}if(this._options.preload){var v,z=this.getNext();try{for(var C=this._options.preload;C>0;C--){v=new Galleria.Picture();v.add(H.getData(z).image);z=H.getNext(z)}}catch(G){}}g.show(E.container);f(H._thumbnails[F.index].container).addClass("active").siblings(".active").removeClass("active");H.trigger({type:Galleria.LOADSTART,cached:A,index:F.index,imageTarget:E.image,thumbTarget:u.image});E.load(t,function(I){H._scaleImage(I,{complete:function(J){g.show(J.container);if("image" in B){g.toggleQuality(B.image,false)}g.toggleQuality(J.image,false);H._queue.stalled=true;H.removePan();H.setInfo(F.index);H.setCounter(F.index);H.trigger({type:Galleria.LOADFINISH,cached:A,index:F.index,imageTarget:J.image,thumbTarget:H._thumbnails[F.index].image});var L=B.image===null&&H._options.transition_initial?H._options.transition_initial:H._options.transition;if(L in o===false){w()}else{var K={prev:B.image,next:J.image,rewind:F.rewind,speed:H._options.transition_speed||400};o[L].call(H,K,w)}}})})},getNext:function(t){t=typeof t=="number"?t:this.getIndex();return t==this.getDataLength()-1?0:t+1},getPrev:function(t){t=typeof t=="number"?t:this.getIndex();return t===0?this.getDataLength()-1:t-1},next:function(){if(this.getDataLength()>1){this.show(this.getNext(),false)}return this},prev:function(){if(this.getDataLength()>1){this.show(this.getPrev(),true)}return this},get:function(t){return t in this._dom?this._dom[t]:null},getData:function(t){return t in this._data?this._data[t]:this._data[this._active]},getDataLength:function(){return this._data.length},getIndex:function(){return typeof this._active==="number"?this._active:false},getStageHeight:function(){return this._stageHeight},getStageWidth:function(){return this._stageWidth},getOptions:function(t){return typeof t=="undefined"?this._options:this._options[t]},setOptions:function(t,u){if(typeof t=="object"){f.extend(this._options,t)}else{this._options[t]=u}return this},play:function(t){this._playing=true;this._playtime=t||this._playtime;this._playCheck();this.trigger(Galleria.PLAY);return this},pause:function(){this._playing=false;this.trigger(Galleria.PAUSE);return this},playToggle:function(t){return(this._playing)?this.pause():this.play(t)},isPlaying:function(){return this._playing},_playCheck:function(){var u=this,z=0,t=20,v=g.timestamp();if(this._playing){g.clearTimer("play");var w=function(){z=g.timestamp()-v;if(z>=u._playtime&&u._playing){g.clearTimer("play");u.next();return}if(u._playing){u.trigger({type:Galleria.PROGRESS,percent:Math.ceil(z/u._playtime*100),seconds:Math.floor(z/1000),milliseconds:z});g.addTimer("play",w,t)}};g.addTimer("play",w,t)}},setIndex:function(t){this._active=t;return this},setCounter:function(u){if(typeof u=="number"){u++}else{if(typeof u=="undefined"){u=this.getIndex()+1}}this.get("current").innerHTML=u;if(h==8){var t=this.$("counter").css("opacity");this.$("counter").css("opacity",t)}return this},setInfo:function(u){var t=this,v=this.getData(u);f.each(["title","description","author"],function(w,z){var A=t.$("info-"+z);if(!!v[z]){A[v[z].length?"show":"hide"]().html(v[z])}else{A.empty().hide()}});return this},hasInfo:function(u){var w=this.getData(u);var t="title description".split(" ");for(var v=0;t[v];v++){if(!!this.getData(u)[t[v]]){return true}}return false},jQuery:function(w){var t=this,u=[];f.each(w.split(","),function(z,A){A=f.trim(A);if(t.get(A)){u.push(A)}});var v=f(t.get(u.shift()));f.each(u,function(z,A){v=v.add(t.get(A))});return v},$:function(){return this.jQuery.apply(this,g.array(arguments))}};f.extend(Galleria,{DATA:"g_data",READY:"g_ready",THUMBNAIL:"g_thumbnail",LOADSTART:"g_loadstart",LOADFINISH:"g_loadfinish",IMAGE:"g_image",THEMELOAD:"g_themeload",PLAY:"g_play",PAUSE:"g_pause",PROGRESS:"g_progress",FULLSCREEN_ENTER:"g_fullscreen_enter",FULLSCREEN_EXIT:"g_fullscreen_exit",IDLE_ENTER:"g_idle_enter",IDLE_EXIT:"g_idle_exit",RESCALE:"g_rescale",LIGHTBOX_OPEN:"g_lightbox_open",LIGHTBOX_CLOSE:"g_lightbox_close",LIGHTBOX_IMAGE:"g_lightbox_image",IE9:h==9,IE8:h==8,IE7:h==7,IE6:h==6,IE:!!h,WEBKIT:/webkit/.test(m),SAFARI:/safari/.test(m),CHROME:/chrome/.test(m),QUIRK:(h&&r.compatMode&&r.compatMode=="BackCompat"),MAC:/mac/.test(navigator.platform.toLowerCase()),OPERA:!!l.opera,IPHONE:/iphone/.test(m),IPAD:/ipad/.test(m),ANDROID:/android/.test(m),TOUCH:!!(/iphone/.test(m)||/ipad/.test(m)||/android/.test(m))});Galleria.addTheme=function(u){if(!!u.name===false){Galleria.raise("No theme name specified")}if(typeof u.defaults!="object"){u.defaults={}}if(typeof u.css=="string"){var t;f("script").each(function(w,v){var z=new RegExp("galleria\\."+u.name.toLowerCase()+"\\.");if(z.test(v.src)){t=v.src.replace(/[^\/]*$/,"")+u.css;g.addTimer("css",function(){g.loadCSS(t,"galleria-theme",function(){Galleria.theme=u;e.trigger(Galleria.THEMELOAD)})},1)}});if(!t){Galleria.raise("No theme CSS loaded")}}else{Galleria.theme=u;e.trigger(Galleria.THEMELOAD)}return u};Galleria.loadTheme=function(w,u){var t=false,v=a.length;Galleria.theme=c;g.loadScript(w,function(){t=true});g.wait({until:function(){return t},error:function(){Galleria.raise("Theme at "+w+" could not load, check theme path.",true)},success:function(){if(v){var z=[];f.each(Galleria.get(),function(B,A){var D=f.extend(A._original.options,{data_source:A._data},u);A.$("container").remove();var C=new Galleria();C._id=A._id;C.init(A._original.target,D);z.push(C)});a=z}},timeout:2000})};Galleria.get=function(t){if(!!a[t]){return a[t]}else{if(typeof t!=="number"){return a}else{Galleria.raise("Gallery index "+t+" not found")}}};Galleria.addTransition=function(t,u){o[t]=u};Galleria.utils=g;Galleria.log=function(){try{l.console.log.apply(l.console,g.array(arguments))}catch(t){try{opera.postError.apply(opera,arguments)}catch(u){alert(g.array(arguments).split(", "))}}};Galleria.raise=function(v,u){if(q||u){var t=u?"Fatal error":"Error";throw new Error(t+": "+v)}};Galleria.Picture=function(t){this.id=t||null;this.image=null;this.container=g.create("galleria-image");f(this.container).css({overflow:"hidden",position:"relative"});this.original={width:0,height:0};this.ready=false;this.loaded=false};Galleria.Picture.prototype={cache:{},add:function(v){var t=this;var u=new Image();f(u).css("display","block");if(t.cache[v]){u.src=v;t.loaded=true;t.original={height:u.height,width:u.width};return u}u.onload=function(){t.original={height:this.height,width:this.width};t.cache[v]=v;t.loaded=true};u.src=v;return u},show:function(){g.show(this.image)},hide:function(){g.moveOut(this.image)},clear:function(){this.image=null},isCached:function(t){return !!this.cache[t]},load:function(u,v){var t=this;f(this.container).empty(true);this.image=this.add(u);g.hide(this.image);f(this.container).append(this.image);g.wait({until:function(){return t.loaded&&t.image.complete&&t.image.width},success:function(){l.setTimeout(function(){v.call(t,t)},50)},error:function(){l.setTimeout(function(){v.call(t,t)},50);Galleria.raise("image not loaded in 10 seconds: "+u)},timeout:10000});return this.container},scale:function(v){v=f.extend({width:0,height:0,min:c,max:c,margin:0,complete:function(){},position:"center",crop:false},v);if(!this.image){return this.container}var w,t,u=this,z=f(u.container);g.wait({until:function(){w=v.width||z.width()||g.parseValue(z.css("width"));t=v.height||z.height()||g.parseValue(z.css("height"));return w&&t},success:function(){var E=(w-v.margin*2)/u.original.width,A=(t-v.margin*2)/u.original.height,G={"true":Math.max(E,A),width:E,height:A,"false":Math.min(E,A)},C=G[v.crop.toString()];if(v.max){C=Math.min(v.max,C)}if(v.min){C=Math.max(v.min,C)}f(u.container).width(w).height(t);f.each(["width","height"],function(J,I){f(u.image)[I](u[I]=Math.ceil(u.original[I]*C))});var H={},B={},D=function(K,L,J){var I=0;if(/\%/.test(K)){var M=parseInt(K)/100;I=Math.ceil(f(u.image)[L]()*-1*M+J*M)}else{I=g.parseValue(K)}return I},F={top:{top:0},left:{left:0},right:{left:"100%"},bottom:{top:"100%"}};f.each(v.position.toLowerCase().split(" "),function(I,J){if(J=="center"){J="50%"}H[I?"top":"left"]=J});f.each(H,function(I,J){if(F.hasOwnProperty(J)){f.extend(B,F[J])}});H=H.top?f.extend(H,B):B;H=f.extend({top:"50%",left:"50%"},H);f(u.image).css({position:"relative",width:"100%",top:D(H.top,"height",t)-v.margin,left:D(H.left,"width",w)-v.margin});u.show();u.ready=true;v.complete.call(u,u)},error:function(){Galleria.raise("Could not scale image: "+u.image.src)},timeout:1000});return this}};f.extend(f.easing,{galleria:function(v,w,u,A,z){if((w/=z/2)<1){return A/2*w*w*w*w+u}return -A/2*((w-=2)*w*w*w-2)+u},galleriaIn:function(v,w,u,A,z){return A*(w/=z)*w*w*w+u},galleriaOut:function(v,w,u,A,z){return -A*((w=w/z-1)*w*w*w-1)+u}});f.fn.galleria=function(t){return this.each(function(){var u=new Galleria();u.init(this,t)})};l.Galleria=Galleria})(jQuery);
/*!
 * jQuery Cycle Plugin (with Transition Definitions)
 * Examples and documentation at: http://jquery.malsup.com/cycle/
 * Copyright (c) 2007-2010 M. Alsup
 * Version: 2.88 (08-JUN-2010)
 * Dual licensed under the MIT and GPL licenses.
 * http://jquery.malsup.com/license.html
 * Requires: jQuery v1.2.6 or later
 */
(function(l){var o="2.88";if(l.support==undefined){l.support={opacity:!(l.browser.msie)}}function a(u){if(l.fn.cycle.debug){f(u)}}function f(){if(window.console&&window.console.log){window.console.log("[cycle] "+Array.prototype.join.call(arguments," "))}}l.fn.cycle=function(v,u){var w={s:this.selector,c:this.context};if(this.length===0&&v!="stop"){if(!l.isReady&&w.s){f("DOM not ready, queuing slideshow");l(function(){l(w.s,w.c).cycle(v,u)});return this}f("terminating; zero elements found by selector"+(l.isReady?"":" (DOM not ready)"));return this}return this.each(function(){var C=q(this,v,u);if(C===false){return}C.updateActivePagerLink=C.updateActivePagerLink||l.fn.cycle.updateActivePagerLink;if(this.cycleTimeout){clearTimeout(this.cycleTimeout)}this.cycleTimeout=this.cyclePause=0;var D=l(this);var E=C.slideExpr?l(C.slideExpr,this):D.children();var A=E.get();if(A.length<2){f("terminating; too few slides: "+A.length);return}var z=n(D,E,A,C,w);if(z===false){return}var B=z.continuous?10:h(A[z.currSlide],A[z.nextSlide],z,!z.rev);if(B){B+=(z.delay||0);if(B<10){B=10}a("first timeout: "+B);this.cycleTimeout=setTimeout(function(){e(A,z,0,(!z.rev&&!C.backwards))},B)}})};function q(u,z,v){if(u.cycleStop==undefined){u.cycleStop=0}if(z===undefined||z===null){z={}}if(z.constructor==String){switch(z){case"destroy":case"stop":var B=l(u).data("cycle.opts");if(!B){return false}u.cycleStop++;if(u.cycleTimeout){clearTimeout(u.cycleTimeout)}u.cycleTimeout=0;l(u).removeData("cycle.opts");if(z=="destroy"){t(B)}return false;case"toggle":u.cyclePause=(u.cyclePause===1)?0:1;A(u.cyclePause,v,u);return false;case"pause":u.cyclePause=1;return false;case"resume":u.cyclePause=0;A(false,v,u);return false;case"prev":case"next":var B=l(u).data("cycle.opts");if(!B){f('options not found, "prev/next" ignored');return false}l.fn.cycle[z](B);return false;default:z={fx:z}}return z}else{if(z.constructor==Number){var w=z;z=l(u).data("cycle.opts");if(!z){f("options not found, can not advance slide");return false}if(w<0||w>=z.elements.length){f("invalid slide index: "+w);return false}z.nextSlide=w;if(u.cycleTimeout){clearTimeout(u.cycleTimeout);u.cycleTimeout=0}if(typeof v=="string"){z.oneTimeFx=v}e(z.elements,z,1,w>=z.currSlide);return false}}return z;function A(D,E,C){if(!D&&E===true){var F=l(C).data("cycle.opts");if(!F){f("options not found, can not resume");return false}if(C.cycleTimeout){clearTimeout(C.cycleTimeout);C.cycleTimeout=0}e(F.elements,F,1,(!B.rev&&!B.backwards))}}}function b(u,v){if(!l.support.opacity&&v.cleartype&&u.style.filter){try{u.style.removeAttribute("filter")}catch(w){}}}function t(u){if(u.next){l(u.next).unbind(u.prevNextEvent)}if(u.prev){l(u.prev).unbind(u.prevNextEvent)}if(u.pager||u.pagerAnchorBuilder){l.each(u.pagerAnchors||[],function(){this.unbind().remove()})}u.pagerAnchors=null;if(u.destroy){u.destroy(u)}}function n(E,Q,B,A,K){var I=l.extend({},l.fn.cycle.defaults,A||{},l.metadata?E.metadata():l.meta?E.data():{});if(I.autostop){I.countdown=I.autostopCount||B.length}var v=E[0];E.data("cycle.opts",I);I.$cont=E;I.stopCount=v.cycleStop;I.elements=B;I.before=I.before?[I.before]:[];I.after=I.after?[I.after]:[];I.after.unshift(function(){I.busy=0});if(!l.support.opacity&&I.cleartype){I.after.push(function(){b(this,I)})}if(I.continuous){I.after.push(function(){e(B,I,0,(!I.rev&&!I.backwards))})}r(I);if(!l.support.opacity&&I.cleartype&&!I.cleartypeNoBg){g(Q)}if(E.css("position")=="static"){E.css("position","relative")}if(I.width){E.width(I.width)}if(I.height&&I.height!="auto"){E.height(I.height)}if(I.startingSlide){I.startingSlide=parseInt(I.startingSlide)}else{if(I.backwards){I.startingSlide=B.length-1}}if(I.random){I.randomMap=[];for(var O=0;O<B.length;O++){I.randomMap.push(O)}I.randomMap.sort(function(S,w){return Math.random()-0.5});I.randomIndex=1;I.startingSlide=I.randomMap[1]}else{if(I.startingSlide>=B.length){I.startingSlide=0}}I.currSlide=I.startingSlide||0;var D=I.startingSlide;Q.css({position:"absolute",top:0,left:0}).hide().each(function(w){var S;if(I.backwards){S=D?w<=D?B.length+(w-D):D-w:B.length-w}else{S=D?w>=D?B.length-(w-D):D-w:B.length-w}l(this).css("z-index",S)});l(B[D]).css("opacity",1).show();b(B[D],I);if(I.fit&&I.width){Q.width(I.width)}if(I.fit&&I.height&&I.height!="auto"){Q.height(I.height)}var J=I.containerResize&&!E.innerHeight();if(J){var C=0,H=0;for(var M=0;M<B.length;M++){var u=l(B[M]),R=u[0],G=u.outerWidth(),P=u.outerHeight();if(!G){G=R.offsetWidth||R.width||u.attr("width")}if(!P){P=R.offsetHeight||R.height||u.attr("height")}C=G>C?G:C;H=P>H?P:H}if(C>0&&H>0){E.css({width:C+"px",height:H+"px"})}}if(I.pause){E.hover(function(){this.cyclePause++},function(){this.cyclePause--})}if(c(I)===false){return false}var z=false;A.requeueAttempts=A.requeueAttempts||0;Q.each(function(){var U=l(this);this.cycleH=(I.fit&&I.height)?I.height:(U.height()||this.offsetHeight||this.height||U.attr("height")||0);this.cycleW=(I.fit&&I.width)?I.width:(U.width()||this.offsetWidth||this.width||U.attr("width")||0);if(U.is("img")){var S=(l.browser.msie&&this.cycleW==28&&this.cycleH==30&&!this.complete);var V=(l.browser.mozilla&&this.cycleW==34&&this.cycleH==19&&!this.complete);var T=(l.browser.opera&&((this.cycleW==42&&this.cycleH==19)||(this.cycleW==37&&this.cycleH==17))&&!this.complete);var w=(this.cycleH==0&&this.cycleW==0&&!this.complete);if(S||V||T||w){if(K.s&&I.requeueOnImageNotLoaded&&++A.requeueAttempts<100){f(A.requeueAttempts," - img slide not loaded, requeuing slideshow: ",this.src,this.cycleW,this.cycleH);setTimeout(function(){l(K.s,K.c).cycle(A)},I.requeueTimeout);z=true;return false}else{f("could not determine size of image: "+this.src,this.cycleW,this.cycleH)}}}return true});if(z){return false}I.cssBefore=I.cssBefore||{};I.animIn=I.animIn||{};I.animOut=I.animOut||{};Q.not(":eq("+D+")").css(I.cssBefore);if(I.cssFirst){l(Q[D]).css(I.cssFirst)}if(I.timeout){I.timeout=parseInt(I.timeout);if(I.speed.constructor==String){I.speed=l.fx.speeds[I.speed]||parseInt(I.speed)}if(!I.sync){I.speed=I.speed/2}var L=I.fx=="shuffle"?500:250;while((I.timeout-I.speed)<L){I.timeout+=I.speed}}if(I.easing){I.easeIn=I.easeOut=I.easing}if(!I.speedIn){I.speedIn=I.speed}if(!I.speedOut){I.speedOut=I.speed}I.slideCount=B.length;I.currSlide=I.lastSlide=D;if(I.random){if(++I.randomIndex==B.length){I.randomIndex=0}I.nextSlide=I.randomMap[I.randomIndex]}else{if(I.backwards){I.nextSlide=I.startingSlide==0?(B.length-1):I.startingSlide-1}else{I.nextSlide=I.startingSlide>=(B.length-1)?0:I.startingSlide+1}}if(!I.multiFx){var N=l.fn.cycle.transitions[I.fx];if(l.isFunction(N)){N(E,Q,I)}else{if(I.fx!="custom"&&!I.multiFx){f("unknown transition: "+I.fx,"; slideshow terminating");return false}}}var F=Q[D];if(I.before.length){I.before[0].apply(F,[F,F,I,true])}if(I.after.length>1){I.after[1].apply(F,[F,F,I,true])}if(I.next){l(I.next).bind(I.prevNextEvent,function(){return s(I,I.rev?-1:1)})}if(I.prev){l(I.prev).bind(I.prevNextEvent,function(){return s(I,I.rev?1:-1)})}if(I.pager||I.pagerAnchorBuilder){d(B,I)}m(I,B);return I}function r(u){u.original={before:[],after:[]};u.original.cssBefore=l.extend({},u.cssBefore);u.original.cssAfter=l.extend({},u.cssAfter);u.original.animIn=l.extend({},u.animIn);u.original.animOut=l.extend({},u.animOut);l.each(u.before,function(){u.original.before.push(this)});l.each(u.after,function(){u.original.after.push(this)})}function c(C){var A,w,v=l.fn.cycle.transitions;if(C.fx.indexOf(",")>0){C.multiFx=true;C.fxs=C.fx.replace(/\s*/g,"").split(",");for(A=0;A<C.fxs.length;A++){var B=C.fxs[A];w=v[B];if(!w||!v.hasOwnProperty(B)||!l.isFunction(w)){f("discarding unknown transition: ",B);C.fxs.splice(A,1);A--}}if(!C.fxs.length){f("No valid transitions named; slideshow terminating.");return false}}else{if(C.fx=="all"){C.multiFx=true;C.fxs=[];for(p in v){w=v[p];if(v.hasOwnProperty(p)&&l.isFunction(w)){C.fxs.push(p)}}}}if(C.multiFx&&C.randomizeEffects){var z=Math.floor(Math.random()*20)+30;for(A=0;A<z;A++){var u=Math.floor(Math.random()*C.fxs.length);C.fxs.push(C.fxs.splice(u,1)[0])}a("randomized fx sequence: ",C.fxs)}return true}function m(v,u){v.addSlide=function(z,A){var w=l(z),B=w[0];if(!v.autostopCount){v.countdown++}u[A?"unshift":"push"](B);if(v.els){v.els[A?"unshift":"push"](B)}v.slideCount=u.length;w.css("position","absolute");w[A?"prependTo":"appendTo"](v.$cont);if(A){v.currSlide++;v.nextSlide++}if(!l.support.opacity&&v.cleartype&&!v.cleartypeNoBg){g(w)}if(v.fit&&v.width){w.width(v.width)}if(v.fit&&v.height&&v.height!="auto"){$slides.height(v.height)}B.cycleH=(v.fit&&v.height)?v.height:w.height();B.cycleW=(v.fit&&v.width)?v.width:w.width();w.css(v.cssBefore);if(v.pager||v.pagerAnchorBuilder){l.fn.cycle.createPagerAnchor(u.length-1,B,l(v.pager),u,v)}if(l.isFunction(v.onAddSlide)){v.onAddSlide(w)}else{w.hide()}}}l.fn.cycle.resetState=function(v,u){u=u||v.fx;v.before=[];v.after=[];v.cssBefore=l.extend({},v.original.cssBefore);v.cssAfter=l.extend({},v.original.cssAfter);v.animIn=l.extend({},v.original.animIn);v.animOut=l.extend({},v.original.animOut);v.fxFn=null;l.each(v.original.before,function(){v.before.push(this)});l.each(v.original.after,function(){v.after.push(this)});var w=l.fn.cycle.transitions[u];if(l.isFunction(w)){w(v.$cont,l(v.elements),v)}};function e(D,u,C,F){if(C&&u.busy&&u.manualTrump){a("manualTrump in go(), stopping active transition");l(D).stop(true,true);u.busy=false}if(u.busy){a("transition active, ignoring new tx request");return}var A=u.$cont[0],H=D[u.currSlide],G=D[u.nextSlide];if(A.cycleStop!=u.stopCount||A.cycleTimeout===0&&!C){return}if(!C&&!A.cyclePause&&!u.bounce&&((u.autostop&&(--u.countdown<=0))||(u.nowrap&&!u.random&&u.nextSlide<u.currSlide))){if(u.end){u.end(u)}return}var E=false;if((C||!A.cyclePause)&&(u.nextSlide!=u.currSlide)){E=true;var B=u.fx;H.cycleH=H.cycleH||l(H).height();H.cycleW=H.cycleW||l(H).width();G.cycleH=G.cycleH||l(G).height();G.cycleW=G.cycleW||l(G).width();if(u.multiFx){if(u.lastFx==undefined||++u.lastFx>=u.fxs.length){u.lastFx=0}B=u.fxs[u.lastFx];u.currFx=B}if(u.oneTimeFx){B=u.oneTimeFx;u.oneTimeFx=null}l.fn.cycle.resetState(u,B);if(u.before.length){l.each(u.before,function(I,J){if(A.cycleStop!=u.stopCount){return}J.apply(G,[H,G,u,F])})}var w=function(){l.each(u.after,function(I,J){if(A.cycleStop!=u.stopCount){return}J.apply(G,[H,G,u,F])})};a("tx firing; currSlide: "+u.currSlide+"; nextSlide: "+u.nextSlide);u.busy=1;if(u.fxFn){u.fxFn(H,G,u,w,F,C&&u.fastOnEvent)}else{if(l.isFunction(l.fn.cycle[u.fx])){l.fn.cycle[u.fx](H,G,u,w,F,C&&u.fastOnEvent)}else{l.fn.cycle.custom(H,G,u,w,F,C&&u.fastOnEvent)}}}if(E||u.nextSlide==u.currSlide){u.lastSlide=u.currSlide;if(u.random){u.currSlide=u.nextSlide;if(++u.randomIndex==D.length){u.randomIndex=0}u.nextSlide=u.randomMap[u.randomIndex];if(u.nextSlide==u.currSlide){u.nextSlide=(u.currSlide==u.slideCount-1)?0:u.currSlide+1}}else{if(u.backwards){var z=(u.nextSlide-1)<0;if(z&&u.bounce){u.backwards=!u.backwards;u.nextSlide=1;u.currSlide=0}else{u.nextSlide=z?(D.length-1):u.nextSlide-1;u.currSlide=z?0:u.nextSlide+1}}else{var z=(u.nextSlide+1)==D.length;if(z&&u.bounce){u.backwards=!u.backwards;u.nextSlide=D.length-2;u.currSlide=D.length-1}else{u.nextSlide=z?0:u.nextSlide+1;u.currSlide=z?D.length-1:u.nextSlide-1}}}}if(E&&u.pager){u.updateActivePagerLink(u.pager,u.currSlide,u.activePagerClass)}var v=0;if(u.timeout&&!u.continuous){v=h(D[u.currSlide],D[u.nextSlide],u,F)}else{if(u.continuous&&A.cyclePause){v=10}}if(v>0){A.cycleTimeout=setTimeout(function(){e(D,u,0,(!u.rev&&!u.backwards))},v)}}l.fn.cycle.updateActivePagerLink=function(u,w,v){l(u).each(function(){l(this).children().removeClass(v).eq(w).addClass(v)})};function h(A,w,z,v){if(z.timeoutFn){var u=z.timeoutFn.call(A,A,w,z,v);while((u-z.speed)<250){u+=z.speed}a("calculated timeout: "+u+"; speed: "+z.speed);if(u!==false){return u}}return z.timeout}l.fn.cycle.next=function(u){s(u,u.rev?-1:1)};l.fn.cycle.prev=function(u){s(u,u.rev?1:-1)};function s(w,B){var v=w.elements;var A=w.$cont[0],z=A.cycleTimeout;if(z){clearTimeout(z);A.cycleTimeout=0}if(w.random&&B<0){w.randomIndex--;if(--w.randomIndex==-2){w.randomIndex=v.length-2}else{if(w.randomIndex==-1){w.randomIndex=v.length-1}}w.nextSlide=w.randomMap[w.randomIndex]}else{if(w.random){w.nextSlide=w.randomMap[w.randomIndex]}else{w.nextSlide=w.currSlide+B;if(w.nextSlide<0){if(w.nowrap){return false}w.nextSlide=v.length-1}else{if(w.nextSlide>=v.length){if(w.nowrap){return false}w.nextSlide=0}}}}var u=w.onPrevNextEvent||w.prevNextClick;if(l.isFunction(u)){u(B>0,w.nextSlide,v[w.nextSlide])}e(v,w,1,B>=0);return false}function d(v,w){var u=l(w.pager);l.each(v,function(z,A){l.fn.cycle.createPagerAnchor(z,A,u,v,w)});w.updateActivePagerLink(w.pager,w.startingSlide,w.activePagerClass)}l.fn.cycle.createPagerAnchor=function(A,B,w,z,C){var v;if(l.isFunction(C.pagerAnchorBuilder)){v=C.pagerAnchorBuilder(A,B);a("pagerAnchorBuilder("+A+", el) returned: "+v)}else{v='<a href="#">'+(A+1)+"</a>"}if(!v){return}var D=l(v);if(D.parents("body").length===0){var u=[];if(w.length>1){w.each(function(){var E=D.clone(true);l(this).append(E);u.push(E[0])});D=l(u)}else{D.appendTo(w)}}C.pagerAnchors=C.pagerAnchors||[];C.pagerAnchors.push(D);D.bind(C.pagerEvent,function(H){H.preventDefault();C.nextSlide=A;var G=C.$cont[0],F=G.cycleTimeout;if(F){clearTimeout(F);G.cycleTimeout=0}var E=C.onPagerEvent||C.pagerClick;if(l.isFunction(E)){E(C.nextSlide,z[C.nextSlide])}e(z,C,1,C.currSlide<A)});if(!/^click/.test(C.pagerEvent)&&!C.allowPagerClickBubble){D.bind("click.cycle",function(){return false})}if(C.pauseOnPagerHover){D.hover(function(){C.$cont[0].cyclePause++},function(){C.$cont[0].cyclePause--})}};l.fn.cycle.hopsFromLast=function(z,w){var v,u=z.lastSlide,A=z.currSlide;if(w){v=A>u?A-u:z.slideCount-u}else{v=A<u?u-A:u+z.slideCount-A}return v};function g(w){a("applying clearType background-color hack");function v(z){z=parseInt(z).toString(16);return z.length<2?"0"+z:z}function u(B){for(;B&&B.nodeName.toLowerCase()!="html";B=B.parentNode){var z=l.css(B,"background-color");if(z.indexOf("rgb")>=0){var A=z.match(/\d+/g);return"#"+v(A[0])+v(A[1])+v(A[2])}if(z&&z!="transparent"){return z}}return"#ffffff"}w.each(function(){l(this).css("background-color",u(this))})}l.fn.cycle.commonReset=function(C,A,B,v,z,u){l(B.elements).not(C).hide();B.cssBefore.opacity=1;B.cssBefore.display="block";if(v!==false&&A.cycleW>0){B.cssBefore.width=A.cycleW}if(z!==false&&A.cycleH>0){B.cssBefore.height=A.cycleH}B.cssAfter=B.cssAfter||{};B.cssAfter.display="none";l(C).css("zIndex",B.slideCount+(u===true?1:0));l(A).css("zIndex",B.slideCount+(u===true?0:1))};l.fn.cycle.custom=function(I,C,u,z,B,v){var H=l(I),D=l(C);var w=u.speedIn,G=u.speedOut,A=u.easeIn,F=u.easeOut;D.css(u.cssBefore);if(v){if(typeof v=="number"){w=G=v}else{w=G=1}A=F=null}var E=function(){D.animate(u.animIn,w,A,z)};H.animate(u.animOut,G,F,function(){if(u.cssAfter){H.css(u.cssAfter)}if(!u.sync){E()}});if(u.sync){E()}};l.fn.cycle.transitions={fade:function(v,w,u){w.not(":eq("+u.currSlide+")").css("opacity",0);u.before.push(function(B,z,A){l.fn.cycle.commonReset(B,z,A);A.cssBefore.opacity=0});u.animIn={opacity:1};u.animOut={opacity:0};u.cssBefore={top:0,left:0}}};l.fn.cycle.ver=function(){return o};l.fn.cycle.defaults={fx:"fade",timeout:4000,timeoutFn:null,continuous:0,speed:1000,speedIn:null,speedOut:null,next:null,prev:null,onPrevNextEvent:null,prevNextEvent:"click.cycle",pager:null,onPagerEvent:null,pagerEvent:"click.cycle",allowPagerClickBubble:false,pagerAnchorBuilder:null,before:null,after:null,end:null,easing:null,easeIn:null,easeOut:null,shuffle:null,animIn:null,animOut:null,cssBefore:null,cssAfter:null,fxFn:null,height:"auto",startingSlide:0,sync:1,random:0,fit:0,containerResize:1,pause:0,pauseOnPagerHover:0,autostop:0,autostopCount:0,delay:0,slideExpr:null,cleartype:!l.support.opacity,cleartypeNoBg:false,nowrap:0,fastOnEvent:0,randomizeEffects:1,rev:0,manualTrump:true,requeueOnImageNotLoaded:true,requeueTimeout:250,activePagerClass:"activeSlide",updateActivePagerLink:null,backwards:false}})(jQuery);
/*!
 * jQuery Cycle Plugin Transition Definitions
 * This script is a plugin for the jQuery Cycle Plugin
 * Examples and documentation at: http://malsup.com/jquery/cycle/
 * Copyright (c) 2007-2010 M. Alsup
 * Version:	 2.72
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 */
(function(a){a.fn.cycle.transitions.none=function(c,d,b){b.fxFn=function(g,e,f,h){a(e).show();a(g).hide();h()}};a.fn.cycle.transitions.scrollUp=function(d,e,c){d.css("overflow","hidden");c.before.push(a.fn.cycle.commonReset);var b=d.height();c.cssBefore={top:b,left:0};c.cssFirst={top:0};c.animIn={top:0};c.animOut={top:-b}};a.fn.cycle.transitions.scrollDown=function(d,e,c){d.css("overflow","hidden");c.before.push(a.fn.cycle.commonReset);var b=d.height();c.cssFirst={top:0};c.cssBefore={top:-b,left:0};c.animIn={top:0};c.animOut={top:b}};a.fn.cycle.transitions.scrollLeft=function(d,e,c){d.css("overflow","hidden");c.before.push(a.fn.cycle.commonReset);var b=d.width();c.cssFirst={left:0};c.cssBefore={left:b,top:0};c.animIn={left:0};c.animOut={left:0-b}};a.fn.cycle.transitions.scrollRight=function(d,e,c){d.css("overflow","hidden");c.before.push(a.fn.cycle.commonReset);var b=d.width();c.cssFirst={left:0};c.cssBefore={left:-b,top:0};c.animIn={left:0};c.animOut={left:b}};a.fn.cycle.transitions.scrollHorz=function(c,d,b){c.css("overflow","hidden").width();b.before.push(function(h,f,g,e){a.fn.cycle.commonReset(h,f,g);g.cssBefore.left=e?(f.cycleW-1):(1-f.cycleW);g.animOut.left=e?-h.cycleW:h.cycleW});b.cssFirst={left:0};b.cssBefore={top:0};b.animIn={left:0};b.animOut={top:0}};a.fn.cycle.transitions.scrollVert=function(c,d,b){c.css("overflow","hidden");b.before.push(function(h,f,g,e){a.fn.cycle.commonReset(h,f,g);g.cssBefore.top=e?(1-f.cycleH):(f.cycleH-1);g.animOut.top=e?h.cycleH:-h.cycleH});b.cssFirst={top:0};b.cssBefore={left:0};b.animIn={top:0};b.animOut={left:0}};a.fn.cycle.transitions.slideX=function(c,d,b){b.before.push(function(g,e,f){a(f.elements).not(g).hide();a.fn.cycle.commonReset(g,e,f,false,true);f.animIn.width=e.cycleW});b.cssBefore={left:0,top:0,width:0};b.animIn={width:"show"};b.animOut={width:0}};a.fn.cycle.transitions.slideY=function(c,d,b){b.before.push(function(g,e,f){a(f.elements).not(g).hide();a.fn.cycle.commonReset(g,e,f,true,false);f.animIn.height=e.cycleH});b.cssBefore={left:0,top:0,height:0};b.animIn={height:"show"};b.animOut={height:0}};a.fn.cycle.transitions.shuffle=function(e,f,d){var c,b=e.css("overflow","visible").width();f.css({left:0,top:0});d.before.push(function(l,g,h){a.fn.cycle.commonReset(l,g,h,true,true,true)});if(!d.speedAdjusted){d.speed=d.speed/2;d.speedAdjusted=true}d.random=0;d.shuffle=d.shuffle||{left:-b,top:15};d.els=[];for(c=0;c<f.length;c++){d.els.push(f[c])}for(c=0;c<d.currSlide;c++){d.els.push(d.els.shift())}d.fxFn=function(q,m,o,g,l){var h=l?a(q):a(m);a(m).css(o.cssBefore);var n=o.slideCount;h.animate(o.shuffle,o.speedIn,o.easeIn,function(){var s=a.fn.cycle.hopsFromLast(o,l);for(var t=0;t<s;t++){l?o.els.push(o.els.shift()):o.els.unshift(o.els.pop())}if(l){for(var u=0,r=o.els.length;u<r;u++){a(o.els[u]).css("z-index",r-u+n)}}else{var v=a(q).css("z-index");h.css("z-index",parseInt(v)+1+n)}h.animate({left:0,top:0},o.speedOut,o.easeOut,function(){a(l?this:q).hide();if(g){g()}})})};d.cssBefore={display:"block",opacity:1,top:0,left:0}};a.fn.cycle.transitions.turnUp=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,true,false);f.cssBefore.top=e.cycleH;f.animIn.height=e.cycleH});b.cssFirst={top:0};b.cssBefore={left:0,height:0};b.animIn={top:0};b.animOut={height:0}};a.fn.cycle.transitions.turnDown=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,true,false);f.animIn.height=e.cycleH;f.animOut.top=g.cycleH});b.cssFirst={top:0};b.cssBefore={left:0,top:0,height:0};b.animOut={height:0}};a.fn.cycle.transitions.turnLeft=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,true);f.cssBefore.left=e.cycleW;f.animIn.width=e.cycleW});b.cssBefore={top:0,width:0};b.animIn={left:0};b.animOut={width:0}};a.fn.cycle.transitions.turnRight=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,true);f.animIn.width=e.cycleW;f.animOut.left=g.cycleW});b.cssBefore={top:0,left:0,width:0};b.animIn={left:0};b.animOut={width:0}};a.fn.cycle.transitions.zoom=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,false,true);f.cssBefore.top=e.cycleH/2;f.cssBefore.left=e.cycleW/2;f.animIn={top:0,left:0,width:e.cycleW,height:e.cycleH};f.animOut={width:0,height:0,top:g.cycleH/2,left:g.cycleW/2}});b.cssFirst={top:0,left:0};b.cssBefore={width:0,height:0}};a.fn.cycle.transitions.fadeZoom=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,false);f.cssBefore.left=e.cycleW/2;f.cssBefore.top=e.cycleH/2;f.animIn={top:0,left:0,width:e.cycleW,height:e.cycleH}});b.cssBefore={width:0,height:0};b.animOut={opacity:0}};a.fn.cycle.transitions.blindX=function(d,e,c){var b=d.css("overflow","hidden").width();c.before.push(function(h,f,g){a.fn.cycle.commonReset(h,f,g);g.animIn.width=f.cycleW;g.animOut.left=h.cycleW});c.cssBefore={left:b,top:0};c.animIn={left:0};c.animOut={left:b}};a.fn.cycle.transitions.blindY=function(d,e,c){var b=d.css("overflow","hidden").height();c.before.push(function(h,f,g){a.fn.cycle.commonReset(h,f,g);g.animIn.height=f.cycleH;g.animOut.top=h.cycleH});c.cssBefore={top:b,left:0};c.animIn={top:0};c.animOut={top:b}};a.fn.cycle.transitions.blindZ=function(e,f,d){var c=e.css("overflow","hidden").height();var b=e.width();d.before.push(function(l,g,h){a.fn.cycle.commonReset(l,g,h);h.animIn.height=g.cycleH;h.animOut.top=l.cycleH});d.cssBefore={top:c,left:b};d.animIn={top:0,left:0};d.animOut={top:c,left:b}};a.fn.cycle.transitions.growX=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,true);f.cssBefore.left=this.cycleW/2;f.animIn={left:0,width:this.cycleW};f.animOut={left:0}});b.cssBefore={width:0,top:0}};a.fn.cycle.transitions.growY=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,true,false);f.cssBefore.top=this.cycleH/2;f.animIn={top:0,height:this.cycleH};f.animOut={top:0}});b.cssBefore={height:0,left:0}};a.fn.cycle.transitions.curtainX=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,true,true);f.cssBefore.left=e.cycleW/2;f.animIn={left:0,width:this.cycleW};f.animOut={left:g.cycleW/2,width:0}});b.cssBefore={top:0,width:0}};a.fn.cycle.transitions.curtainY=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,true,false,true);f.cssBefore.top=e.cycleH/2;f.animIn={top:0,height:e.cycleH};f.animOut={top:g.cycleH/2,height:0}});b.cssBefore={left:0,height:0}};a.fn.cycle.transitions.cover=function(f,g,e){var l=e.direction||"left";var b=f.css("overflow","hidden").width();var c=f.height();e.before.push(function(m,d,h){a.fn.cycle.commonReset(m,d,h);if(l=="right"){h.cssBefore.left=-b}else{if(l=="up"){h.cssBefore.top=c}else{if(l=="down"){h.cssBefore.top=-c}else{h.cssBefore.left=b}}}});e.animIn={left:0,top:0};e.animOut={opacity:1};e.cssBefore={top:0,left:0}};a.fn.cycle.transitions.uncover=function(f,g,e){var l=e.direction||"left";var b=f.css("overflow","hidden").width();var c=f.height();e.before.push(function(m,d,h){a.fn.cycle.commonReset(m,d,h,true,true,true);if(l=="right"){h.animOut.left=b}else{if(l=="up"){h.animOut.top=-c}else{if(l=="down"){h.animOut.top=c}else{h.animOut.left=-b}}}});e.animIn={left:0,top:0};e.animOut={opacity:1};e.cssBefore={top:0,left:0}};a.fn.cycle.transitions.toss=function(e,f,d){var b=e.css("overflow","visible").width();var c=e.height();d.before.push(function(l,g,h){a.fn.cycle.commonReset(l,g,h,true,true,true);if(!h.animOut.left&&!h.animOut.top){h.animOut={left:b*2,top:-c/2,opacity:0}}else{h.animOut.opacity=0}});d.cssBefore={left:0,top:0};d.animIn={left:0}};a.fn.cycle.transitions.wipe=function(z,q,e){var v=z.css("overflow","hidden").width();var n=z.height();e.cssBefore=e.cssBefore||{};var g;if(e.clip){if(/l2r/.test(e.clip)){g="rect(0px 0px "+n+"px 0px)"}else{if(/r2l/.test(e.clip)){g="rect(0px "+v+"px "+n+"px "+v+"px)"}else{if(/t2b/.test(e.clip)){g="rect(0px "+v+"px 0px 0px)"}else{if(/b2t/.test(e.clip)){g="rect("+n+"px "+v+"px "+n+"px 0px)"}else{if(/zoom/.test(e.clip)){var u=parseInt(n/2);var f=parseInt(v/2);g="rect("+u+"px "+f+"px "+u+"px "+f+"px)"}}}}}}e.cssBefore.clip=e.cssBefore.clip||g||"rect(0px 0px 0px 0px)";var o=e.cssBefore.clip.match(/(\d+)/g);var A=parseInt(o[0]),c=parseInt(o[1]),s=parseInt(o[2]),m=parseInt(o[3]);e.before.push(function(B,h,t){if(B==h){return}var d=a(B),b=a(h);a.fn.cycle.commonReset(B,h,t,true,true,false);t.cssAfter.display="block";var r=1,l=parseInt((t.speedIn/13))-1;(function w(){var D=A?A-parseInt(r*(A/l)):0;var E=m?m-parseInt(r*(m/l)):0;var F=s<n?s+parseInt(r*((n-s)/l||1)):n;var C=c<v?c+parseInt(r*((v-c)/l||1)):v;b.css({clip:"rect("+D+"px "+C+"px "+F+"px "+E+"px)"});(r++<=l)?setTimeout(w,13):d.css("display","none")})()});e.cssBefore={display:"block",opacity:1,top:0,left:0};e.animIn={left:0};e.animOut={left:0}}})(jQuery);